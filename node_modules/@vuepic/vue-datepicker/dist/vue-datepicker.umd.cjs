(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],u):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=u(e.Vue,e.dateFns))})(this,function(e,u){"use strict";function ze(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}ze.compatConfig={MODE:3};function Gt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Gt.compatConfig={MODE:3};function ot(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ot.compatConfig={MODE:3};function lt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}lt.compatConfig={MODE:3};function st(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}st.compatConfig={MODE:3};function it(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}it.compatConfig={MODE:3};function ut(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ut.compatConfig={MODE:3};function ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qt={exports:{}};(function(t){function r(a){return a&&a.__esModule?a:{default:a}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(qt);var vn=qt.exports,dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=r.default})(dt,dt.exports);var An=dt.exports;const Nn=ct(An);var ft={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=r.default})(ft,ft.exports);var Pn=ft.exports;const Zt=ct(Pn);function _n(t,r){var a=Yn(r);return a.formatToParts?Rn(a,t):Vn(a,t)}var En={year:0,month:1,day:2,hour:3,minute:4,second:5};function Rn(t,r){try{for(var a=t.formatToParts(r),n=[],s=0;s<a.length;s++){var l=En[a[s].type];l>=0&&(n[l]=parseInt(a[s].value,10))}return n}catch(m){if(m instanceof RangeError)return[NaN];throw m}}function Vn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var mt={};function Yn(t){if(!mt[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";mt[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return mt[t]}function pt(t,r,a,n,s,l,m){var M=new Date(0);return M.setUTCFullYear(t,r,a),M.setUTCHours(n,s,l,m),M}var Jt=36e5,On=6e4,gt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function ht(t,r,a){var n,s;if(!t||(n=gt.timezoneZ.exec(t),n))return 0;var l;if(n=gt.timezoneHH.exec(t),n)return l=parseInt(n[1],10),Xt(l)?-(l*Jt):NaN;if(n=gt.timezoneHHMM.exec(t),n){l=parseInt(n[1],10);var m=parseInt(n[2],10);return Xt(l,m)?(s=Math.abs(l)*Jt+m*On,l>0?-s:s):NaN}if(Ln(t)){r=new Date(r||Date.now());var M=a?r:In(r),k=yt(M,t),S=a?k:zn(r,k,t);return-S}return NaN}function In(t){return pt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function yt(t,r){var a=_n(t,r),n=pt(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),s=t.getTime(),l=s%1e3;return s-=l>=0?l:1e3+l,n-s}function zn(t,r,a){var n=t.getTime(),s=n-r,l=yt(new Date(s),a);if(r===l)return r;s-=l-r;var m=yt(new Date(s),a);return l===m?l:Math.max(l,m)}function Xt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Qt={};function Ln(t){if(Qt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Qt[t]=!0,!0}catch{return!1}}var Ft=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,kt=36e5,en=6e4,Hn=2,he={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ft};function wt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?Hn:Nn(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=Kn(t),l=Un(s.date,n),m=l.year,M=l.restDateString,k=Wn(M,m);if(isNaN(k))return new Date(NaN);if(k){var S=k.getTime(),w=0,T;if(s.time&&(w=xn(s.time),isNaN(w)))return new Date(NaN);if(s.timeZone||a.timeZone){if(T=ht(s.timeZone||a.timeZone,new Date(S+w)),isNaN(T))return new Date(NaN)}else T=Zt(new Date(S+w)),T=Zt(new Date(S+w+T));return new Date(S+w+T)}else return new Date(NaN)}function Kn(t){var r={},a=he.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=he.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var s=he.timeZone.exec(n);s?(r.time=n.replace(s[1],""),r.timeZone=s[1].trim()):r.time=n}return r}function Un(t,r){var a=he.YYY[r],n=he.YYYYY[r],s;if(s=he.YYYY.exec(t)||n.exec(t),s){var l=s[1];return{year:parseInt(l,10),restDateString:t.slice(l.length)}}if(s=he.YY.exec(t)||a.exec(t),s){var m=s[1];return{year:parseInt(m,10)*100,restDateString:t.slice(m.length)}}return{year:null}}function Wn(t,r){if(r===null)return null;var a,n,s,l;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=he.MM.exec(t),a)return n=new Date(0),s=parseInt(a[1],10)-1,rn(r,s)?(n.setUTCFullYear(r,s),n):new Date(NaN);if(a=he.DDD.exec(t),a){n=new Date(0);var m=parseInt(a[1],10);return qn(r,m)?(n.setUTCFullYear(r,0,m),n):new Date(NaN)}if(a=he.MMDD.exec(t),a){n=new Date(0),s=parseInt(a[1],10)-1;var M=parseInt(a[2],10);return rn(r,s,M)?(n.setUTCFullYear(r,s,M),n):new Date(NaN)}if(a=he.Www.exec(t),a)return l=parseInt(a[1],10)-1,an(r,l)?tn(r,l):new Date(NaN);if(a=he.WwwD.exec(t),a){l=parseInt(a[1],10)-1;var k=parseInt(a[2],10)-1;return an(r,l,k)?tn(r,l,k):new Date(NaN)}return null}function xn(t){var r,a,n;if(r=he.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),bt(a)?a%24*kt:NaN;if(r=he.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),bt(a,n)?a%24*kt+n*en:NaN;if(r=he.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var s=parseFloat(r[3].replace(",","."));return bt(a,n,s)?a%24*kt+n*en+s*1e3:NaN}return null}function tn(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,l=r*7+a+1-s;return n.setUTCDate(n.getUTCDate()+l),n}var jn=[31,28,31,30,31,30,31,31,30,31,30,31],Gn=[31,29,31,30,31,30,31,31,30,31,30,31];function nn(t){return t%400===0||t%4===0&&t%100!==0}function rn(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=nn(t);if(n&&a>Gn[r]||!n&&a>jn[r])return!1}return!0}function qn(t,r){if(r<1)return!1;var a=nn(t);return!(a&&r>366||!a&&r>365)}function an(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function bt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Mt={exports:{}},Dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l]);return n}t.exports=r.default})(Dt,Dt.exports);var Zn=Dt.exports;(function(t,r){var a=vn.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=a(Zn);function s(l){return(0,n.default)({},l)}t.exports=r.default})(Mt,Mt.exports);var Jn=Mt.exports;const Xn=ct(Jn);function Qn(t,r,a){var n=wt(t,a),s=ht(r,n,!0),l=new Date(n.getTime()-s),m=new Date(0);return m.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),m.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),m}function Fn(t,r,a){if(typeof t=="string"&&!t.match(Ft)){var n=Xn(a);return n.timeZone=r,wt(t,n)}var s=wt(t,a),l=pt(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),m=ht(r,new Date(l));return new Date(l+m)}function on(t){return r=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${r}T00:00:00+00:00`)).slice(0,2)}function er(t){return r=>u.format(new Date(`2017-01-0${r}T00:00:00+00:00`),"EEEEEE",{locale:t})}const tr=(t,r,a)=>{const n=[1,2,3,4,5,6,7];let s;if(t!==null)try{s=n.map(er(t))}catch{s=n.map(on(r))}else s=n.map(on(r));const l=s.slice(0,a),m=s.slice(a+1,s.length);return[s[a]].concat(...m).concat(...l)},Ct=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},ln=(t,r,a)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const m=l<10?`0${l}`:l;return new Date(`2017-${m}-01T00:00:00+00:00`)});if(t!==null)try{const l=a==="long"?"MMMM":"MMM";return n.map((m,M)=>{const k=u.format(m,l,{locale:t});return{text:k.charAt(0).toUpperCase()+k.substring(1),value:M}})}catch{}const s=new Intl.DateTimeFormat(r,{month:a,timeZone:"UTC"});return n.map((l,m)=>{const M=s.format(l);return{text:M.charAt(0).toUpperCase()+M.substring(1),value:m}})},nr=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ce=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},rr=t=>Object.assign({type:"dot"},t),sn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ze={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ie=t=>t,un=t=>t===0?t:!t||isNaN(+t)?null:+t,cn=t=>t===null,ar=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},or=t=>{const r=[],a=n=>n.filter(s=>s);for(let n=0;n<t.length;n+=3){const s=[t[n],t[n+1],t[n+2]];r.push(a(s))}return r},Le=(t,r,a)=>{const n=a??a===0,s=r??r===0;if(!n&&!s)return!1;const l=+a,m=+r;return n&&s?+t>l||+t<m:n?+t>l:s?+t<m:!1},Ve=(t,r)=>or(t).map(a=>a.map(n=>{const{active:s,disabled:l,isBetween:m}=r(n);return{...n,active:s,disabled:l,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&s,dp__cell_in_between:m}}})),dn=(t,r,a,n,s)=>{const l=u.parse(t,r.slice(0,t.length),new Date);return u.isValid(l)&&u.isDate(l)?n||s?l:u.set(l,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},lr=(t,r,a,n,s)=>{const l=Array.isArray(a)?a[0]:a;if(typeof r=="string")return dn(t,r,l,n,s);if(Array.isArray(r)){let m=null;for(const M of r)if(m=dn(t,M,l,n,s),m)break;return m}return typeof r=="function"?r(t):null},v=t=>t?new Date(t):new Date,sr=(t,r,a)=>{if(r){const s=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),M=t.getMinutes().toString().padStart(2,"0"),k=a?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${s}-${l}T${m}:${M}:${k}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},ke=t=>{let r=v(JSON.parse(JSON.stringify(t)));return r=u.setHours(r,0),r=u.setMinutes(r,0),r=u.setSeconds(r,0),r=u.setMilliseconds(r,0),r},$e=(t,r,a,n)=>{let s=t?v(t):v();return(r||r===0)&&(s=u.setHours(s,+r)),(a||a===0)&&(s=u.setMinutes(s,+a)),(n||n===0)&&(s=u.setSeconds(s,+n)),u.setMilliseconds(s,0)},fe=(t,r)=>!t||!r?!1:u.isBefore(ke(t),ke(r)),ae=(t,r)=>!t||!r?!1:u.isEqual(ke(t),ke(r)),ge=(t,r)=>!t||!r?!1:u.isAfter(ke(t),ke(r)),St=(t,r,a)=>t!=null&&t[0]&&(t!=null&&t[1])?ge(a,t[0])&&fe(a,t[1]):t!=null&&t[0]&&r?ge(a,t[0])&&fe(a,r)||fe(a,t[0])&&ge(a,r):!1,be=t=>{const r=u.set(new Date(t),{date:1});return ke(r)},Tt=(t,r,a)=>r&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===r?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ne=t=>({hours:u.getHours(t),minutes:u.getMinutes(t),seconds:u.getSeconds(t)}),fn=(t,r)=>{if(r){const a=u.getYear(v(r));if(a>t)return 12;if(a===t)return u.getMonth(v(r))}},mn=(t,r)=>{if(r){const a=u.getYear(v(r));return a<t?-1:a===t?u.getMonth(v(r)):void 0}},Ye=t=>{if(t)return u.getYear(v(t))},Ce=(t,r)=>r?Qn(t,r):t,ir=(t,r)=>r?Fn(t,r):t,pn=t=>t instanceof Date?t:u.parseISO(t),gn=(t,r)=>{const a=ge(t,r)?r:t,n=ge(r,t)?r:t;return u.eachDayOfInterval({start:a,end:n})},ur=t=>{const r=u.addMonths(t,1);return{month:u.getMonth(r),year:u.getYear(r)}},Je=(t,r,a)=>{const n=u.startOfWeek(Ce(t,r),{weekStartsOn:+a}),s=u.endOfWeek(Ce(t,r),{weekStartsOn:+a});return[n,s]},hn=(t,r)=>{const a={hours:u.getHours(v()),minutes:u.getMinutes(v()),seconds:r?u.getSeconds(v()):0};return Object.assign(a,t)},Be=(t,r,a)=>[u.set(v(t),{date:1}),u.set(v(),{month:r,year:a,date:1})],Se=(t,r,a)=>{let n=t?v(t):v();return(r||r===0)&&(n=u.setMonth(n,r)),a&&(n=u.setYear(n,a)),n},yn=(t,r,a,n,s)=>{if(!n||s&&!r||!s&&!a)return!1;const l=s?u.addMonths(t,1):u.subMonths(t,1),m=[u.getMonth(l),u.getYear(l)];return s?!dr(...m,r):!cr(...m,a)},cr=(t,r,a)=>fe(...Be(a,t,r))||ae(...Be(a,t,r)),dr=(t,r,a)=>ge(...Be(a,t,r))||ae(...Be(a,t,r)),kn=(t,r,a,n,s,l)=>{if(typeof r=="function")return r(t);const m=a?{locale:a}:void 0;return Array.isArray(t)?`${u.format(t[0],l,m)}${s&&!t[1]?"":n}${t[1]?u.format(t[1],l,m):""}`:u.format(t,l,m)},Oe=t=>{if(t)return null;throw new Error(Ze.prop("partial-range"))},Xe=(t,r)=>{if(r)return t();throw new Error(Ze.prop("range"))},$t=t=>Array.isArray(t)?u.isValid(t[0])&&(t[1]?u.isValid(t[1]):!0):t?u.isValid(t):!1,fr=t=>u.set(v(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Bt=(t,r,a,n)=>{if(!t)return!0;if(n){const s=a==="max"?u.isBefore(t,r):u.isAfter(t,r),l={seconds:0,milliseconds:0};return s||u.isEqual(u.set(t,l),u.set(r,l))}return a==="max"?t.getTime()<=r.getTime():t.getTime()>=r.getTime()},wn=(t,r,a,n,s)=>{const l=t?fr(t):v(r);return Array.isArray(n)?Bt(n[0],l,a,!!r)&&Bt(n[1],l,a,!!r)&&s:Bt(n,l,a,!!r)&&s},vt=t=>u.set(v(),Ne(t)),mr=(t,r)=>Array.isArray(t)?t.map(a=>v(a)).filter(a=>u.getYear(v(a))===r).map(a=>u.getMonth(a)):[],He=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),bn=()=>{const t=n=>{He.menuFocused=n},r=n=>{He.shiftKeyInMenu!==n&&(He.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:He.shiftKeyInMenu,menuFocused:He.menuFocused})),setMenuFocused:t,setShiftKey:r}},oe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),At=e.ref(null),Qe=e.ref(!1),Nt=e.ref(!1),Pt=e.ref(!1),_t=e.ref(!1),ye=e.ref(0),me=e.ref(0),ve=()=>{const t=e.computed(()=>Qe.value?[...oe.selectionGrid,oe.actionRow].filter(b=>b.length):Nt.value?[...oe.timePicker[0],...oe.timePicker[1],_t.value?[]:[At.value],oe.actionRow].filter(b=>b.length):Pt.value?[...oe.monthPicker,oe.actionRow]:[oe.monthYear,...oe.calendar,oe.time,oe.actionRow].filter(b=>b.length)),r=b=>{ye.value=b?ye.value+1:ye.value-1;let $=null;t.value[me.value]&&($=t.value[me.value][ye.value]),$||(ye.value=b?ye.value-1:ye.value+1)},a=b=>{if(me.value===0&&!b||me.value===t.value.length&&b)return;me.value=b?me.value+1:me.value-1,t.value[me.value]?t.value[me.value]&&!t.value[me.value][ye.value]&&ye.value!==0&&(ye.value=t.value[me.value].length-1):me.value=b?me.value-1:me.value+1},n=b=>{let $=null;t.value[me.value]&&($=t.value[me.value][ye.value]),$?$.focus({preventScroll:!Qe.value}):ye.value=b?ye.value-1:ye.value+1},s=()=>{r(!0),n(!0)},l=()=>{r(!1),n(!1)},m=()=>{a(!1),n(!0)},M=()=>{a(!0),n(!0)},k=(b,$)=>{oe[$]=b},S=(b,$)=>{oe[$]=b},w=()=>{ye.value=0,me.value=0};return{buildMatrix:k,buildMultiLevelMatrix:S,setTimePickerBackRef:b=>{At.value=b},setSelectionGrid:b=>{Qe.value=b,w(),b||(oe.selectionGrid=[])},setTimePicker:(b,$=!1)=>{Nt.value=b,_t.value=$,w(),b||(oe.timePicker[0]=[],oe.timePicker[1]=[])},setTimePickerElements:(b,$=0)=>{oe.timePicker[$]=b},arrowRight:s,arrowLeft:l,arrowUp:m,arrowDown:M,clearArrowNav:()=>{oe.monthYear=[],oe.calendar=[],oe.time=[],oe.actionRow=[],oe.selectionGrid=[],oe.timePicker[0]=[],oe.timePicker[1]=[],Qe.value=!1,Nt.value=!1,_t.value=!1,Pt.value=!1,w(),At.value=null},setMonthPicker:b=>{Pt.value=b,w()},refSets:oe}},Mn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),pr=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),Dn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,gr=t=>{const r=typeof t=="object"&&t,a={static:!0,solo:!1};if(!t)return{...a,count:Dn(!1)};const n=r?t:{},s=r?n.count??!0:t,l=Dn(s);return Object.assign(a,n,{count:l})},hr=(t,r,a)=>t||(typeof a=="string"?a:r),yr=t=>typeof t=="boolean"?t?Mn({}):!1:Mn(t),kr=t=>{const r={enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "};return typeof t=="object"?{...r,...t??{},enabled:!0}:{...r,enabled:t}},wr=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),br=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Mr=t=>{const r={input:!1};return typeof t=="object"?{...r,...t??{},enabled:!0}:{enabled:t,...r}},pe=t=>{const r=()=>{const L=t.enableSeconds?":ss":"";return t.is24?`HH:mm${L}`:`hh:mm${L} aa`},a=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?r():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",n=L=>hn(L,t.enableSeconds),s=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[n(t.startTime[0]),n(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?n(t.startTime):null,l=e.computed(()=>gr(t.multiCalendars)),m=e.computed(()=>s()),M=e.computed(()=>pr(t.ariaLabels)),k=e.computed(()=>wr(t.filters)),S=e.computed(()=>yr(t.transitions)),w=e.computed(()=>br(t.actionRow)),T=e.computed(()=>hr(t.previewFormat,t.format,a())),V=e.computed(()=>kr(t.textInput)),x=e.computed(()=>Mr(t.inline));return{defaultedTransitions:S,defaultedMultiCalendars:l,defaultedStartTime:m,defaultedAriaLabels:M,defaultedFilters:k,defaultedActionRow:w,defaultedPreviewFormat:T,defaultedTextInput:V,defaultedInline:x,getDefaultPattern:a,getDefaultStartTime:s}},Dr=(t,r,a)=>{const n=e.ref(),{defaultedTextInput:s,getDefaultPattern:l}=pe(r),m=e.ref(""),M=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(M,()=>{Y()});const k=o=>ir(o,r.timezone),S=o=>Ce(o,r.timezone),w=(o,z)=>kn(o,r.format,r.formatLocale,s.value.rangeSeparator,r.modelAuto,z??l()),T=o=>{const z=o??v();return r.modelType?D(z):{hours:u.getHours(z),minutes:u.getMinutes(z),seconds:r.enableSeconds?u.getSeconds(z):0}},V=o=>r.modelType?D(o):{month:u.getMonth(o),year:u.getYear(o)},x=o=>Array.isArray(o)?Xe(()=>[u.setYear(v(),o[0]),o[1]?u.setYear(v(),o[1]):Oe(r.partialRange)],r.range):u.setYear(v(),+o),L=(o,z)=>(typeof o=="string"||typeof o=="number")&&r.modelType?f(o):z,Z=o=>Array.isArray(o)?[L(o[0],$e(null,+o[0].hours,+o[0].minutes,o[0].seconds)),L(o[1],$e(null,+o[1].hours,+o[1].minutes,o[1].seconds))]:L(o,$e(null,o.hours,o.minutes,o.seconds)),U=o=>Array.isArray(o)?r.multiDates?o.map(z=>L(z,Se(null,+z.month,+z.year))):Xe(()=>[L(o[0],Se(null,+o[0].month,+o[0].year)),L(o[1],o[1]?Se(null,+o[1].month,+o[1].year):Oe(r.partialRange))],r.range):L(o,Se(null,+o.month,+o.year)),b=o=>{if(Array.isArray(o))return o.map(z=>f(z));throw new Error(Ze.dateArr("multi-dates"))},$=o=>{if(Array.isArray(o))return[v(o[0]),v(o[1])];throw new Error(Ze.dateArr("week-picker"))},E=o=>r.modelAuto?Array.isArray(o)?[f(o[0]),f(o[1])]:r.autoApply?[f(o)]:[f(o),null]:Array.isArray(o)?Xe(()=>[f(o[0]),o[1]?f(o[1]):Oe(r.partialRange)],r.range):f(o),I=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(Oe(r.partialRange))},B=()=>{const o=n.value;return[D(o[0]),o[1]?D(o[1]):Oe(r.partialRange)]},j=()=>n.value[1]?B():D(ie(n.value[0])),W=()=>(n.value||[]).map(o=>D(o)),ee=()=>(I(),r.modelAuto?j():r.multiDates?W():Array.isArray(n.value)?Xe(()=>B(),r.range):D(ie(n.value))),g=o=>!o||Array.isArray(o)&&!o.length?null:r.timePicker?Z(ie(o)):r.monthPicker?U(ie(o)):r.yearPicker?x(ie(o)):r.multiDates?b(ie(o)):r.weekPicker?$(ie(o)):E(ie(o)),C=o=>{const z=g(o);$t(ie(z))?(n.value=ie(z),Y()):(n.value=null,m.value="")},N=()=>{const o=z=>u.format(z,s.value.format);return`${o(n.value[0])} ${s.value.rangeSeparator} ${n.value[1]?o(n.value[1]):""}`},H=()=>a.value&&n.value?Array.isArray(n.value)?N():u.format(n.value,s.value.format):w(n.value),p=()=>n.value?r.multiDates?n.value.map(o=>w(o)).join("; "):s.value.enabled&&typeof s.value.format=="string"?H():w(n.value):"",Y=()=>{!r.format||typeof r.format=="string"||s.value.enabled&&typeof s.value.format=="string"?m.value=p():m.value=r.format(n.value)},f=o=>{if(r.utc){const z=new Date(o);return r.utc==="preserve"?new Date(z.getTime()+z.getTimezoneOffset()*6e4):z}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?S(new Date(o)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?u.parse(o,l(),new Date):S(u.parse(o,r.modelType,new Date)):S(new Date(o))},D=o=>o?r.utc?sr(o,r.utc==="preserve",r.enableSeconds):r.modelType?r.modelType==="timestamp"?+k(o):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?w(k(o)):w(k(o),r.modelType):k(o):"",c=(o,z=!1)=>{if(t("update:model-value",o),r.emitTimezone&&z){const P=Array.isArray(o)?o.map(h=>Ce(ie(h)),r.emitTimezone):Ce(ie(o),r.emitTimezone);t("update:model-timezone-value",P)}},y=o=>Array.isArray(n.value)?r.multiDates?n.value.map(z=>o(z)):[o(n.value[0]),n.value[1]?o(n.value[1]):Oe(r.partialRange)]:o(ie(n.value)),i=o=>c(ie(y(o)));return{inputValue:m,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:C,formatInputValue:Y,emitModelValue:()=>(Y(),r.monthPicker?i(V):r.timePicker?i(T):r.yearPicker?i(u.getYear):r.weekPicker?c(n.value,!0):c(ee(),!0))}},Cr=(t,r)=>{const{defaultedFilters:a}=pe(t),{validateMonthYearInRange:n}=Ue(t),s=(S,w)=>{let T=S;return a.value.months.includes(u.getMonth(T))?(T=w?u.addMonths(S,1):u.subMonths(S,1),s(T,w)):T},l=(S,w)=>{let T=S;return a.value.years.includes(u.getYear(T))?(T=w?u.addYears(S,1):u.subYears(S,1),l(T,w)):T},m=S=>{const w=u.set(new Date,{month:t.month,year:t.year});let T=S?u.addMonths(w,1):u.subMonths(w,1);t.disableYearSelect&&(T=u.setYear(T,t.year));let V=u.getMonth(T),x=u.getYear(T);a.value.months.includes(V)&&(T=s(T,S),V=u.getMonth(T),x=u.getYear(T)),a.value.years.includes(x)&&(T=l(T,S),x=u.getYear(T)),n(V,x,S,t.preventMinMaxNavigation)&&M(V,x)},M=(S,w)=>{r("update-month-year",{month:S,year:w})},k=e.computed(()=>S=>yn(u.set(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,S));return{handleMonthYearChange:m,isDisabled:k,updateMonthYear:M}};var Ie=(t=>(t.center="center",t.left="left",t.right="right",t))(Ie||{}),Me=(t=>(t.month="month",t.year="year",t))(Me||{}),Pe=(t=>(t.top="top",t.bottom="bottom",t))(Pe||{}),_e=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(_e||{});const Sr=(t,r,a,n,s,l,m)=>{const M=e.ref({}),k=e.ref(!1),S=e.ref({top:"0",left:"0"}),w=e.ref(!1),T=e.toRef(m,"teleportCenter");e.watch(T,()=>{S.value=JSON.parse(JSON.stringify({})),E()});const V=f=>{if(m.teleport){const D=f.getBoundingClientRect();return{left:D.left+window.scrollX,top:D.top+window.scrollY}}return{top:0,left:0}},x=(f,D)=>{S.value.left=`${f+D-M.value.width}px`},L=f=>{S.value.left=`${f}px`},Z=(f,D)=>{m.position===Ie.left&&L(f),m.position===Ie.right&&x(f,D),m.position===Ie.center&&(S.value.left=`${f+D/2-M.value.width/2}px`)},U=f=>{const{width:D,height:c}=f.getBoundingClientRect(),{top:y,left:i}=m.altPosition?m.altPosition(f):V(f);return{top:+y,left:+i,width:D,height:c}},b=()=>{S.value.left="50%",S.value.top="50%",S.value.transform="translate(-50%, -50%)",S.value.position="fixed",delete S.value.opacity},$=()=>{const f=ce(a),{top:D,left:c,transform:y}=m.altPosition(f);S.value={top:`${D}px`,left:`${c}px`,transform:y??""}},E=(f=!0)=>{var D;if(!s.value.enabled){if(T.value)return b();if(m.altPosition!==null)return $();if(f){const c=m.teleport?(D=r.value)==null?void 0:D.$el:t.value;c&&(M.value=c.getBoundingClientRect()),l("recalculate-position")}return C()}},I=({inputEl:f,left:D,width:c})=>{window.screen.width>768&&!k.value&&Z(D,c),W(f)},B=f=>{const{top:D,left:c,height:y,width:i}=U(f);S.value.top=`${y+D+ +m.offset}px`,w.value=!1,k.value||(S.value.left=`${c+i/2-M.value.width/2}px`),I({inputEl:f,left:c,width:i})},j=f=>{const{top:D,left:c,width:y}=U(f);S.value.top=`${D-+m.offset-M.value.height}px`,w.value=!0,I({inputEl:f,left:c,width:y})},W=f=>{if(m.autoPosition){const{left:D,width:c}=U(f),{left:y,right:i}=M.value;if(!k.value){if(Math.abs(y)!==Math.abs(i)){if(y<=0)return k.value=!0,L(D);if(i>=document.documentElement.clientWidth)return k.value=!0,x(D,c)}return Z(D,c)}}},ee=()=>{const f=ce(a);if(f){const{height:D}=M.value,{top:c,height:y}=f.getBoundingClientRect(),A=window.innerHeight-c-y,J=c;return D<=A?Pe.bottom:D>A&&D<=J?Pe.top:A>=J?Pe.bottom:Pe.top}return Pe.bottom},g=f=>ee()===Pe.bottom?B(f):j(f),C=()=>{const f=ce(a);if(f)return m.autoPosition?g(f):B(f)},N=function(f){if(f){const D=f.scrollHeight>f.clientHeight,y=window.getComputedStyle(f).overflowY.indexOf("hidden")!==-1;return D&&!y}return!0},H=function(f){return!f||f===document.body||f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:N(f)?f:H(f.parentNode)},p=f=>{if(f)switch(m.position){case Ie.left:return{left:0,transform:"translateX(0)"};case Ie.right:return{left:`${f.width}px`,transform:"translateX(-100%)"};default:return{left:`${f.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:w,menuStyle:S,xCorrect:k,setMenuPosition:E,getScrollableParent:H,shadowRender:(f,D)=>{var z,P,h;const c=document.createElement("div"),y=(z=ce(a))==null?void 0:z.getBoundingClientRect();c.setAttribute("id","dp--temp-container");const i=(P=n.value)!=null&&P.clientWidth?n.value:document.body;i.append(c);const A=document.getElementById("dp--temp-container"),J=p(y),o=e.h(f,{...D,shadow:!0,style:{opacity:0,position:"absolute",...J}});e.render(o,A),M.value=(h=o.el)==null?void 0:h.getBoundingClientRect(),e.render(null,A),i.removeChild(A)}}},Ee=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared"]},{name:"arrow-right",use:["month-year","calendar","shared"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]}],Tr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],$r={all:()=>Ee,monthYear:()=>Ee.filter(t=>t.use.includes("month-year")),input:()=>Tr,timePicker:()=>Ee.filter(t=>t.use.includes("time")),action:()=>Ee.filter(t=>t.use.includes("action")),calendar:()=>Ee.filter(t=>t.use.includes("calendar")),menu:()=>Ee.filter(t=>t.use.includes("menu")),shared:()=>Ee.filter(t=>t.use.includes("shared"))},De=(t,r,a)=>{const n=[];return $r[r]().forEach(s=>{t[s.name]&&n.push(s.name)}),a!=null&&a.length&&a.forEach(s=>{s.slot&&n.push(s.slot)}),n},Ke=t=>{const r=e.computed(()=>n=>t.value?n?t.value.open:t.value.close:""),a=e.computed(()=>n=>t.value?n?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:r,showTransition:!!t.value,menuTransition:a}},Fe=(t,r)=>{const a=e.ref([{month:u.getMonth(v()),year:u.getYear(v())}]),n=e.reactive({hours:t.range?[u.getHours(v()),u.getHours(v())]:u.getHours(v()),minutes:t.range?[u.getMinutes(v()),u.getMinutes(v())]:u.getMinutes(v()),seconds:t.range?[0,0]:0}),s=e.computed({get:()=>t.internalModelValue,set:M=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",M)}}),l=e.computed(()=>M=>a.value[M]?a.value[M].month:0),m=e.computed(()=>M=>a.value[M]?a.value[M].year:0);return{calendars:a,time:n,modelValue:s,month:l,year:m}},Br=(t,r)=>{const{defaultedMultiCalendars:a}=pe(r),{isDisabled:n,matchDate:s}=Ue(r),l=e.ref(null),m=e.ref(v()),M=i=>{!i.current&&r.hideOffsetDates||(l.value=i.value)},k=()=>{l.value=null},S=i=>Array.isArray(t.value)&&r.range&&t.value[0]&&l.value?i?ge(l.value,t.value[0]):fe(l.value,t.value[0]):!0,w=(i,A)=>{const J=()=>t.value?A?t.value[0]||null:t.value[1]:null,o=t.value&&Array.isArray(t.value)?J():null;return ae(v(i.value),o)},T=i=>{const A=Array.isArray(t.value)?t.value[0]:null;return i?!fe(l.value??null,A):!0},V=(i,A=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?r.hideOffsetDates&&!i.current?!1:ae(v(i.value),t.value[A?0:1]):r.range?w(i,A)&&T(A)||ae(i.value,Array.isArray(t.value)?t.value[0]:null)&&S(A):!1,x=(i,A,J)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?i?!1:J?ge(t.value[0],A.value):fe(t.value[0],A.value):!1,L=i=>!t.value||r.hideOffsetDates&&!i.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ae(i.value,t.value[0]?t.value[0]:m.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(A=>ae(A,i.value)):ae(i.value,t.value?t.value:m.value),Z=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const A=u.addDays(l.value,+r.autoRange),J=Je(v(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(J[1],v(i.value)):ae(A,v(i.value))}return!1}return!1},U=i=>{if(r.autoRange||r.weekPicker){if(l.value){const A=u.addDays(l.value,+r.autoRange);if(r.hideOffsetDates&&!i.current)return!1;const J=Je(v(l.value),r.timezone,r.weekStart);return r.weekPicker?ge(i.value,J[0])&&fe(i.value,J[1]):ge(i.value,l.value)&&fe(i.value,A)}return!1}return!1},b=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const A=Je(v(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(A[0],i.value):ae(l.value,i.value)}return!1}return!1},$=i=>St(t.value,l.value,i.value),E=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,I=()=>r.modelAuto?sn(r.internalModelValue):!0,B=i=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const A=r.range?!V(i)&&!V(i,!1):!0;return!n(i.value)&&!L(i)&&!(!i.current&&r.hideOffsetDates)&&A},j=i=>r.range?r.modelAuto?E()&&L(i):!1:L(i),W=i=>{var A;return r.highlight?s(i.value,(A=r.arrMapValues)!=null&&A.highlightedDates?r.arrMapValues.highlightedDates:r.highlight):!1},ee=i=>n(i.value)&&r.highlightDisabledDays===!1,g=i=>{var A;return(A=r.highlightWeekDays)==null?void 0:A.includes(i.value.getDay())},C=i=>(r.range||r.weekPicker)&&(!(a.value.count>0)||i.current)&&I()&&!(!i.current&&r.hideOffsetDates)&&!L(i)?$(i):!1,N=i=>{const{isRangeStart:A,isRangeEnd:J}=Y(i),o=r.range?A||J:!1;return{dp__cell_offset:!i.current,dp__pointer:!r.disabled&&!(!i.current&&r.hideOffsetDates)&&!n(i.value),dp__cell_disabled:n(i.value),dp__cell_highlight:!ee(i)&&(W(i)||g(i))&&!j(i)&&!o,dp__cell_highlight_active:!ee(i)&&(W(i)||g(i))&&j(i),dp__today:!r.noToday&&ae(i.value,m.value)&&i.current}},H=i=>({dp__active_date:j(i),dp__date_hover:B(i)}),p=i=>({...f(i),...D(i),dp__range_between_week:C(i)&&r.weekPicker}),Y=i=>{const A=a.value.count>0?i.current&&V(i)&&I():V(i)&&I(),J=a.value.count>0?i.current&&V(i,!1)&&I():V(i,!1)&&I();return{isRangeStart:A,isRangeEnd:J}},f=i=>{const{isRangeStart:A,isRangeEnd:J}=Y(i);return{dp__range_start:A,dp__range_end:J,dp__range_between:C(i)&&!r.weekPicker,dp__date_hover_start:x(B(i),i,!0),dp__date_hover_end:x(B(i),i,!1)}},D=i=>({...f(i),dp__cell_auto_range:U(i),dp__cell_auto_range_start:b(i),dp__cell_auto_range_end:Z(i)}),c=i=>r.range?r.autoRange?D(i):r.modelAuto?{...H(i),...f(i)}:f(i):r.weekPicker?p(i):H(i);return{setHoverDate:M,clearHoverDate:k,getDayClassData:i=>r.hideOffsetDates&&!i.current?{}:{...N(i),...c(i),[r.dayClass?r.dayClass(i.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName}}},Ue=t=>{const{defaultedFilters:r}=pe(t),a=g=>{const C=ke(n(v(g))).toISOString(),[N]=C.split("T");return N},n=g=>Ce(g,t.timezone),s=g=>{var i;const C=t.maxDate?ge(n(g),n(v(t.maxDate))):!1,N=t.minDate?fe(n(g),n(v(t.minDate))):!1,H=k(g,(i=t.arrMapValues)!=null&&i.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),Y=r.value.months.map(A=>+A).includes(u.getMonth(g)),f=t.disabledWeekDays.length?t.disabledWeekDays.some(A=>+A===u.getDay(g)):!1,D=w(g),c=u.getYear(g),y=c<+t.yearRange[0]||c>+t.yearRange[1];return!(C||N||H||Y||y||f||D)},l=(g,C)=>fe(...Be(t.minDate,g,C))||ae(...Be(t.minDate,g,C)),m=(g,C)=>ge(...Be(t.maxDate,g,C))||ae(...Be(t.maxDate,g,C)),M=(g,C,N)=>{let H=!1;return t.maxDate&&N&&m(g,C)&&(H=!0),t.minDate&&!N&&l(g,C)&&(H=!0),H},k=(g,C)=>g?C instanceof Map?!!C.get(a(g)):Array.isArray(C)?C.some(N=>ae(n(v(N)),n(g))):C?C(v(JSON.parse(JSON.stringify(g)))):!1:!0,S=(g,C,N,H)=>{let p=!1;return H?t.minDate&&t.maxDate?p=M(g,C,N):(t.minDate&&l(g,C)||t.maxDate&&m(g,C))&&(p=!0):p=!0,p},w=g=>{var C,N,H,p,Y;return Array.isArray(t.allowedDates)&&!((C=t.allowedDates)!=null&&C.length)?!0:(N=t.arrMapValues)!=null&&N.allowedDates?!k(g,(H=t.arrMapValues)==null?void 0:H.allowedDates):(p=t.allowedDates)!=null&&p.length?!((Y=t.allowedDates)!=null&&Y.some(f=>ae(n(v(f)),n(g)))):!1},T=g=>!s(g),V=g=>!u.eachDayOfInterval({start:g[0],end:g[1]}).some(N=>T(N)),x=(g,C,N=0)=>{if(Array.isArray(C)&&C[N]){const H=u.differenceInCalendarDays(g,C[N]),p=gn(C[N],g),Y=p.length===1?0:p.filter(D=>T(D)).length,f=Math.abs(H)-Y;if(t.minRange&&t.maxRange)return f>=+t.minRange&&f<=+t.maxRange;if(t.minRange)return f>=+t.minRange;if(t.maxRange)return f<=+t.maxRange}return!0},L=g=>new Map(g.map(C=>[a(C),!0])),Z=g=>Array.isArray(g)&&g.length>0,U=()=>{const g={disabledDates:null,allowedDates:null,highlightedDates:null};return Z(t.allowedDates)&&(g.allowedDates=L(t.allowedDates)),Z(t.highlight)&&(g.highlightedDates=L(t.highlight)),Z(t.disabledDates)&&(g.disabledDates=L(t.disabledDates)),g},b=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,$=g=>Array.isArray(g)?[g[0]?vt(g[0]):null,g[1]?vt(g[1]):null]:vt(g),E=(g,C,N)=>g.find(H=>+H.hours===u.getHours(C)&&H.minutes==="*"?!0:+H.minutes===u.getMinutes(C))&&N,I=(g,C,N)=>{const[H,p]=g,[Y,f]=C;return!E(H,Y,N)&&!E(p,f,N)&&N},B=(g,C)=>{const N=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?I(t.disabledTimes,N,g):!N.some(H=>E(t.disabledTimes,H,g)):g},j=(g,C)=>{const N=Array.isArray(C)?[Ne(C[0]),C[1]?Ne(C[1]):void 0]:Ne(C),H=!t.disabledTimes(N);return g&&H},W=(g,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?B(C,g):j(C,g):C;return{isDisabled:T,validateDate:s,validateMonthYearInRange:S,isDateRangeAllowed:V,checkMinMaxRange:x,matchDate:k,mapDatesArrToMap:U,isValidTime:g=>{let C=!0;if(!g||b())return!0;const N=!t.minDate&&!t.maxDate?$(g):g;return(t.maxTime||t.maxDate)&&(C=wn(t.maxTime,t.maxDate,"max",ie(N),C)),(t.minTime||t.minDate)&&(C=wn(t.minTime,t.minDate,"min",ie(N),C)),W(g,C)}}},et=()=>{const t=e.computed(()=>(n,s)=>n==null?void 0:n.includes(s)),r=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===0:!0),a=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===n.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:r,showRightIcon:a}},vr=(t,r,a)=>{const n=e.ref(0),s=e.reactive({[_e.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[_e.calendar]:!1,[_e.header]:!1}),l=w=>{var T;(T=t.flow)!=null&&T.length&&(s[w]=!0,Object.keys(s).filter(V=>!s[V]).length||S())},m=()=>{var w;(w=t.flow)!=null&&w.length&&n.value!==-1&&(n.value+=1,r("flow-step",n.value),S())},M=()=>{n.value=-1},k=(w,T,...V)=>{t.flow[n.value]===w&&a.value&&a.value[T](...V)},S=()=>{k("month","toggleMonthPicker",!0),k("year","toggleYearPicker",!0),k("calendar","toggleTimePicker",!1,!0),k("time","toggleTimePicker",!0,!0);const w=t.flow[n.value];(w==="hours"||w==="minutes"||w==="seconds")&&k(w,"toggleTimePicker",!0,!0,w)};return{childMount:l,updateFlowStep:m,resetFlow:M,flowStep:n}},tt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null}},Te={...tt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},Ar={key:1,class:"dp__input_wrap"},Nr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],Pr={key:2,class:"dp__clear_icon"},_r=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...tt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTextInput:s,defaultedAriaLabels:l,defaultedInline:m,getDefaultPattern:M,getDefaultStartTime:k}=pe(n),S=e.ref(),w=e.ref(null),T=e.ref(!1),V=e.ref(!1),x=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!s.value.enabled,dp__disabled:n.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:T.value||n.isMenuOpen,dp__input_reg:!s.value.enabled,[n.inputClassName]:!!n.inputClassName})),L=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),S.value=null)},Z=p=>{const Y=k();return lr(p,s.value.format??M(),Y??hn({},n.enableSeconds),n.inputValue,V.value)},U=p=>{const{rangeSeparator:Y}=s.value,[f,D]=p.split(`${Y}`);if(f){const c=Z(f.trim()),y=D?Z(D.trim()):null,i=c&&y?[c,y]:[c];S.value=c?i:null}},b=()=>{V.value=!0},$=p=>{if(n.range)U(p);else if(n.multiDates){const Y=p.split(";");S.value=Y.map(f=>Z(f.trim())).filter(f=>f)}else S.value=Z(p)},E=p=>{var f;const Y=typeof p=="string"?p:(f=p.target)==null?void 0:f.value;Y!==""?(s.value.openMenu&&!n.isMenuOpen&&a("open"),$(Y),a("set-input-date",S.value)):L(),V.value=!1,a("update:input-value",Y)},I=p=>{s.value.enabled?($(p.target.value),s.value.enterSubmit&&$t(S.value)&&n.inputValue!==""?(a("set-input-date",S.value,!0),S.value=null):s.value.enterSubmit&&n.inputValue===""&&(S.value=null,a("clear"))):W(p)},B=p=>{s.value.enabled&&s.value.tabSubmit&&$(p.target.value),s.value.tabSubmit&&$t(S.value)&&n.inputValue!==""?(a("set-input-date",S.value,!0),S.value=null):s.value.tabSubmit&&n.inputValue===""&&(S.value=null,a("clear"))},j=()=>{T.value=!0,a("focus")},W=p=>{p.preventDefault(),p.stopImmediatePropagation(),p.stopPropagation(),s.value.enabled&&s.value.openMenu&&!m.value.input&&!n.isMenuOpen?a("open"):s.value.enabled||a("toggle")},ee=()=>{a("real-blur"),T.value=!1,(!n.isMenuOpen||m.value.enabled&&m.value.input)&&a("blur"),n.autoApply&&s.value.enabled&&S.value&&!n.isMenuOpen&&(a("set-input-date",S.value),a("select-date"),S.value=null)},g=()=>{a("clear")},C=p=>{if(!s.value.enabled){if(p.code==="Tab")return;p.preventDefault()}};return r({focusInput:()=>{var p;(p=w.value)==null||p.focus({preventScroll:!0})},setParsedDate:p=>{S.value=p}}),(p,Y)=>{var f;return e.openBlock(),e.createElementBlock("div",{onClick:W},[p.$slots.trigger&&!p.$slots["dp-input"]&&!e.unref(m).enabled?e.renderSlot(p.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!p.$slots.trigger&&(!e.unref(m).enabled||e.unref(m).input)?(e.openBlock(),e.createElementBlock("div",Ar,[p.$slots["dp-input"]&&!p.$slots.trigger&&!e.unref(m).enabled?e.renderSlot(p.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:E,onEnter:I,onTab:B,onClear:g,onBlur:ee,onKeypress:C,onPaste:b}):e.createCommentVNode("",!0),p.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:w,id:p.uid?`dp-input-${p.uid}`:void 0,name:p.name,class:e.normalizeClass(x.value),inputmode:e.unref(s).enabled?"text":"none",placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,required:p.required,value:t.inputValue,autocomplete:p.autocomplete,"aria-label":(f=e.unref(l))==null?void 0:f.input,onInput:E,onKeydown:[e.withKeys(I,["enter"]),e.withKeys(B,["tab"]),C],onBlur:ee,onFocus:j,onKeypress:C,onPaste:b},null,42,Nr)),e.createElementVNode("div",{onClick:Y[2]||(Y[2]=D=>a("toggle"))},[p.$slots["input-icon"]&&!p.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:Y[0]||(Y[0]=D=>a("toggle"))},[e.renderSlot(p.$slots,"input-icon")])):e.createCommentVNode("",!0),!p.$slots["input-icon"]&&!p.hideInputIcon&&!p.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(ze),{key:1,onClick:Y[1]||(Y[1]=D=>a("toggle")),class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0)]),p.$slots["clear-icon"]&&t.inputValue&&p.clearable&&!p.disabled&&!p.readonly?(e.openBlock(),e.createElementBlock("span",Pr,[e.renderSlot(p.$slots,"clear-icon",{clear:g})])):e.createCommentVNode("",!0),p.clearable&&!p.$slots["clear-icon"]&&t.inputValue&&!p.disabled&&!p.readonly?(e.openBlock(),e.createBlock(e.unref(Gt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(g,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Er=["title"],Rr={class:"dp__action_buttons"},Vr=["onKeydown","disabled"],Yr=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Te},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:r}){const a=t,{defaultedActionRow:n,defaultedPreviewFormat:s,defaultedMultiCalendars:l,defaultedTextInput:m,defaultedInline:M,getDefaultPattern:k}=pe(a),{isValidTime:S}=Ue(a),{buildMatrix:w}=ve(),T=e.ref(null),V=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&w([ce(T),ce(V)],"actionRow")});const x=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),L=e.computed(()=>!Z.value||!U.value||!x.value),Z=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:S(a.internalModelValue)),U=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(C=>!W(C)).length:W(a.internalModelValue):!0),b=()=>{const g=s.value;return a.timePicker||a.monthPicker,g(ie(a.internalModelValue))},$=()=>{const g=a.internalModelValue;return l.value.count>0?`${E(g[0])} - ${E(g[1])}`:[E(g[0]),E(g[1])]},E=g=>kn(g,s.value,a.formatLocale,m.value.rangeSeparator,a.modelAuto,k()),I=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof s.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?$():a.multiDates?a.internalModelValue.map(g=>`${E(g)}`):a.modelAuto?`${E(a.internalModelValue[0])}`:`${E(a.internalModelValue[0])} -`:E(a.internalModelValue):b()),B=()=>a.multiDates?"; ":" - ",j=e.computed(()=>Array.isArray(I.value)?I.value.join(B()):I.value),W=g=>{if(!a.monthPicker)return!0;let C=!0;const N=v(be(g));if(a.minDate&&a.maxDate){const H=v(be(a.minDate)),p=v(be(a.maxDate));return ge(N,H)&&fe(N,p)||ae(N,H)||ae(N,p)}if(a.minDate){const H=v(be(a.minDate));C=ge(N,H)||ae(N,H)}if(a.maxDate){const H=v(be(a.maxDate));C=fe(N,H)||ae(N,H)}return C},ee=()=>{Z.value&&U.value&&x.value?r("select-date"):r("invalid-select")};return(g,C)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[g.$slots["action-row"]?e.renderSlot(g.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:g.internalModelValue,disabled:L.value,selectDate:()=>g.$emit("select-date"),closePicker:()=>g.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(n).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:j.value},[g.$slots["action-preview"]?e.renderSlot(g.$slots,"action-preview",{key:0,value:g.internalModelValue}):e.createCommentVNode("",!0),g.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(j.value),1)],64))],8,Er)):e.createCommentVNode("",!0),e.createElementVNode("div",Rr,[g.$slots["action-buttons"]?e.renderSlot(g.$slots,"action-buttons",{key:0,value:g.internalModelValue}):e.createCommentVNode("",!0),g.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(M).enabled&&e.unref(n).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:T,class:"dp__action_button dp__action_cancel",onClick:C[0]||(C[0]=N=>g.$emit("close-picker")),onKeydown:[C[1]||(C[1]=e.withKeys(N=>g.$emit("close-picker"),["enter"])),C[2]||(C[2]=e.withKeys(N=>g.$emit("close-picker"),["space"]))]},e.toDisplayString(g.cancelText),545)):e.createCommentVNode("",!0),e.unref(n).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:T,class:"dp__action_button dp__action_cancel",onClick:C[3]||(C[3]=N=>g.$emit("select-now")),onKeydown:[C[4]||(C[4]=e.withKeys(N=>g.$emit("select-now"),["enter"])),C[5]||(C[5]=e.withKeys(N=>g.$emit("select-now"),["space"]))]},e.toDisplayString(g.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(n).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(ee,["enter"]),e.withKeys(ee,["space"])],onClick:ee,disabled:L.value,ref_key:"selectButtonRef",ref:V},e.toDisplayString(g.selectText),41,Vr)):e.createCommentVNode("",!0)],64))])],64))],4))}}),Or=["onKeydown"],Ir={class:"dp__selection_grid_header"},zr=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Lr=["aria-label","onKeydown"],We=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:s,buildMultiLevelMatrix:l,setMonthPicker:m}=ve(),{defaultedAriaLabels:M,defaultedTextInput:k}=pe(n),{hideNavigationButtons:S}=et(),w=e.ref(!1),T=e.ref(null),V=e.ref(null),x=e.ref([]),L=e.ref(),Z=e.ref(null),U=e.ref(0),b=e.ref(null);e.onBeforeUpdate(()=>{T.value=null}),e.onMounted(()=>{e.nextTick().then(()=>g()),E(),$(!0)}),e.onUnmounted(()=>$(!1));const $=c=>{var y;n.arrowNavigation&&((y=n.headerRefs)!=null&&y.length?m(c):s(c))},E=()=>{var y;const c=ce(V);c&&(k.value.enabled||(T.value?(y=T.value)==null||y.focus({preventScroll:!0}):c.focus({preventScroll:!0})),w.value=c.clientHeight<c.scrollHeight)},I=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),B=e.computed(()=>n.useRelative?{height:`${n.height}px`,width:"260px"}:void 0),j=e.computed(()=>({dp__overlay_col:!0})),W=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:w.value,dp__button_bottom:n.isLast})),ee=e.computed(()=>{var c,y;return{dp__overlay_container:!0,dp__container_flex:((c=n.items)==null?void 0:c.length)<=6,dp__container_block:((y=n.items)==null?void 0:y.length)>6}}),g=()=>{e.nextTick().then(()=>{const c=ce(T),y=ce(V),i=ce(Z),A=ce(b),J=i?i.getBoundingClientRect().height:0;y&&(U.value=y.getBoundingClientRect().height-J),c&&A&&(A.scrollTop=c.offsetTop-A.offsetTop-(U.value/2-c.getBoundingClientRect().height)-J)})},C=c=>{c.disabled||a("selected",c.value)},N=()=>{a("toggle"),a("reset-flow")},H=()=>{n.escClose&&N()},p=(c,y,i,A)=>{c&&(y.active&&(T.value=c),n.arrowNavigation&&(Array.isArray(x.value[i])?x.value[i][A]=c:x.value[i]=[c],Y()))},Y=()=>{var y,i;const c=(y=n.headerRefs)!=null&&y.length?[n.headerRefs].concat(x.value):x.value.concat([n.skipButtonRef?[]:[Z.value]]);l(ie(c),(i=n.headerRefs)!=null&&i.length?"monthPicker":"selectionGrid")},f=c=>{n.arrowNavigation||c.stopImmediatePropagation()},D=c=>{L.value=c,a("hover-value",c)};return r({focusGrid:E}),(c,y)=>{var i;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:V,class:e.normalizeClass(I.value),style:e.normalizeStyle(B.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(H,["prevent"]),["esc"]),y[0]||(y[0]=e.withKeys(e.withModifiers(A=>f(A),["prevent"]),["left"])),y[1]||(y[1]=e.withKeys(e.withModifiers(A=>f(A),["prevent"]),["up"])),y[2]||(y[2]=e.withKeys(e.withModifiers(A=>f(A),["prevent"]),["down"])),y[3]||(y[3]=e.withKeys(e.withModifiers(A=>f(A),["prevent"]),["right"]))]},[e.createElementVNode("div",{class:e.normalizeClass(ee.value),ref_key:"containerRef",ref:b,role:"grid",style:e.normalizeStyle({height:`${U.value}px`})},[e.createElementVNode("div",Ir,[e.renderSlot(c.$slots,"header")]),c.$slots.overlay?e.renderSlot(c.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(c.items,(A,J)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:c.items.length>=3}]),key:J,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A,(o,z)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(j.value),key:o.value,"aria-selected":o.active,"aria-disabled":o.disabled||void 0,ref_for:!0,ref:P=>p(P,o,J,z),tabindex:"0",onClick:P=>C(o),onKeydown:[e.withKeys(e.withModifiers(P=>C(o),["prevent"]),["enter"]),e.withKeys(e.withModifiers(P=>C(o),["prevent"]),["space"])],onMouseover:P=>D(o.value)},[e.createElementVNode("div",{class:e.normalizeClass(o.className)},[c.$slots.item?e.renderSlot(c.$slots,"item",{key:0,item:o}):e.createCommentVNode("",!0),c.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],2)],42,zr))),128))],2))),128))],6),c.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,role:"button","aria-label":(i=e.unref(M))==null?void 0:i.toggleOverlay,class:e.normalizeClass(W.value),tabindex:"0",ref_key:"toggleButton",ref:Z,onClick:N,onKeydown:[e.withKeys(N,["enter"]),e.withKeys(N,["tab"])]},[e.renderSlot(c.$slots,"button-icon")],42,Lr)),[[e.vShow,!e.unref(S)(c.hideNavigation,c.type)]]):e.createCommentVNode("",!0)],46,Or)}}}),Et=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const r=t,a=e.computed(()=>r.multiCalendars>0?[...Array(r.multiCalendars).keys()]:[0]),n=e.computed(()=>({dp__instance_calendar:r.multiCalendars>0}));return(s,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(m,M)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:e.normalizeClass(n.value)},[e.renderSlot(s.$slots,"default",{instance:m,index:M})],2))),128))],2))}}),Hr=["aria-label","aria-disabled"],xe=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,s)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp--arrow-btn-nav",onClick:s[0]||(s[0]=l=>n.$emit("activate")),onKeydown:[s[1]||(s[1]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled||void 0,ref_key:"elRef",ref:a},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Hr))}}),Rt=(t,r,a)=>{if(r.value&&Array.isArray(r.value))if(r.value.some(n=>ae(t,n))){const n=r.value.filter(s=>!ae(s,t));r.value=n.length?n:null}else(a&&+a>r.value.length||!a)&&r.value.push(t);else r.value=[t]},Cn=(t,r,a)=>{let n=t.value?t.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?fe(r,n[0])?(n.unshift(r),a("range-start",n[0]),a("range-start",n[1])):(n[1]=r,a("range-end",r)):(n=[r],a("range-start",r)),t.value=n,n},Vt=(t,r,a,n)=>{t[0]&&t[1]&&a&&r("auto-apply"),t[0]&&!t[1]&&n&&a&&r("auto-apply")},Kr=(t,r)=>{const{defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s}=pe(t),{modelValue:l,year:m,month:M,calendars:k}=Fe(t,r),S=e.computed(()=>ln(t.formatLocale,t.locale,t.monthNameFormat)),w=e.computed(()=>Ct(t.yearRange,t.reverseYears)),T=e.ref(null),V=()=>{for(let f=0;f<a.value.count;f++)if(f===0)k.value[f]=k.value[0];else{const D=u.set(v(),k.value[f-1]);k.value[f]={month:u.getMonth(D),year:u.getYear(u.addYears(D,f))}}},x=f=>{if(!f)return V();const D=u.set(v(),k.value[f]);return k.value[0].year=u.getYear(u.subYears(D,a.value.count-1)),V()},L=f=>t.focusStartDate?f[0]:f[1]?f[1]:f[0],Z=()=>{if(l.value){const f=Array.isArray(l.value)?L(l.value):l.value;k.value[0]={month:u.getMonth(f),year:u.getYear(f)}}};e.onMounted(()=>{Z(),a.value.count&&V()});const U=e.computed(()=>(f,D)=>{const c=u.set(be(new Date),{month:M.value(f),year:m.value(f)});return yn(c,t.maxDate,t.minDate,t.preventMinMaxNavigation,D)}),b=f=>f?{month:u.getMonth(f),year:u.getYear(f)}:{month:null,year:null},$=()=>l.value?Array.isArray(l.value)?l.value.map(f=>b(f)):b(l.value):b(),E=(f,D)=>{const c=k.value[f],y=$();return Array.isArray(y)?y.some(i=>i.year===(c==null?void 0:c.year)&&i.month===D):(c==null?void 0:c.year)===y.year&&D===y.month},I=(f,D,c)=>{var i,A;const y=$();return Array.isArray(y)?m.value(D)===((i=y[c])==null?void 0:i.year)&&f===((A=y[c])==null?void 0:A.month):!1},B=(f,D)=>{if(t.range){const c=$();if(Array.isArray(l.value)&&Array.isArray(c)){const y=I(f,D,0)||I(f,D,1),i=Se(be(v()),f,m.value(D));return St(l.value,T.value,i)&&!y}return!1}return!1},j=e.computed(()=>f=>Ve(S.value,D=>{const c=E(f,D.value),y=Le(D.value,fn(m.value(f),t.minDate),mn(m.value(f),t.maxDate))||mr(t.disabledDates,m.value(f)).includes(D.value),i=B(D.value,f);return{active:c,disabled:y,isBetween:i}})),W=e.computed(()=>f=>Ve(w.value,D=>{const c=m.value(f)===D.value,y=Le(D.value,Ye(t.minDate),Ye(t.maxDate));return{active:c,disabled:y}})),ee=(f,D)=>Se(be(v()),f,m.value(D)),g=(f,D)=>{const c=l.value?l.value:be(new Date);l.value=Se(c,f,m.value(D)),r("auto-apply")},C=(f,D)=>{const c=Cn(l,ee(f,D),r);Vt(c,r,t.autoApply,t.modelAuto)},N=(f,D)=>{Rt(ee(f,D),l,t.multiDatesLimit),r("auto-apply",!0)};return{groupedMonths:j,groupedYears:W,year:m,isDisabled:U,defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s,setHoverDate:(f,D)=>{T.value=ee(f,D)},selectMonth:(f,D)=>(k.value[D].month=f,t.multiDates?N(f,D):t.range?C(f,D):g(f,D)),selectYear:(f,D)=>{k.value[D].year=f,a.value.count&&!a.value.solo&&x(D)}}},Ur={class:"dp__month_picker_header"},Wr=["aria-label","onClick","onKeydown"],xr=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Te},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedMonths:n,groupedYears:s,year:l,isDisabled:m,defaultedMultiCalendars:M,defaultedAriaLabels:k,defaultedTransitions:S,setHoverDate:w,selectMonth:T,selectYear:V}=Kr(a,r),{transitionName:x,showTransition:L}=Ke(S),{showRightIcon:Z,showLeftIcon:U}=et(),b=e.ref([!1]),$=(B,j)=>{V(B,j),I(j)},E=(B,j=!1)=>{if(!m.value(B,j)){const W=j?l.value(B)+1:l.value(B)-1;V(W,B)}},I=(B,j=!1,W)=>{j||r("reset-flow"),W!==void 0?b.value[B]=W:b.value[B]=!b.value[B],b.value||r("overlay-closed")};return(B,j)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":e.unref(M).count,stretch:""},{default:e.withCtx(({instance:W})=>[e.createVNode(We,{items:e.unref(n)(W),"arrow-navigation":B.arrowNavigation,"is-last":B.autoApply&&!B.keepActionRow,"esc-close":B.escClose,height:B.modeHeight,onSelected:ee=>e.unref(T)(ee,W),onHoverValue:ee=>e.unref(w)(ee,W),"use-relative":"",type:"month"},{header:e.withCtx(()=>{var ee,g,C;return[e.createElementVNode("div",Ur,[e.unref(U)(e.unref(M),W)?(e.openBlock(),e.createBlock(xe,{key:0,ref:"mpPrevIconRef","aria-label":(ee=e.unref(k))==null?void 0:ee.prevYear,disabled:e.unref(m)(W,!1),onActivate:N=>E(W,!1)},{default:e.withCtx(()=>[B.$slots["arrow-left"]?e.renderSlot(B.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp--year-select",role:"button",ref:"mpYearButtonRef","aria-label":(g=e.unref(k))==null?void 0:g.openYearsOverlay,tabindex:"0",onClick:()=>I(W,!1),onKeydown:e.withKeys(()=>I(W,!1),["enter"])},[B.$slots.year?e.renderSlot(B.$slots,"year",{key:0,year:e.unref(l)(W)}):e.createCommentVNode("",!0),B.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(l)(W)),1)],64))],40,Wr),e.unref(Z)(e.unref(M),W)?(e.openBlock(),e.createBlock(xe,{key:1,ref:"mpNextIconRef","aria-label":(C=e.unref(k))==null?void 0:C.nextYear,disabled:e.unref(m)(W,!1),onActivate:N=>E(W,!0)},{default:e.withCtx(()=>[B.$slots["arrow-right"]?e.renderSlot(B.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(x)(b.value[W]),css:e.unref(L)},{default:e.withCtx(()=>[b.value[W]?(e.openBlock(),e.createBlock(We,{key:0,items:e.unref(s)(W),"text-input":B.textInput,"esc-close":B.escClose,onToggle:N=>I(W),onSelected:N=>$(N,W),"is-last":B.autoApply&&!B.keepActionRow,type:"year"},e.createSlots({"button-icon":e.withCtx(()=>[B.$slots["calendar-icon"]?e.renderSlot(B.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[B.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:N})=>[e.renderSlot(B.$slots,"year-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","onToggle","onSelected","is-last"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])])]}),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","onSelected","onHoverValue"])]),_:3},8,["multi-calendars"]))}}),jr=(t,r)=>{const{modelValue:a}=Fe(t,r),n=e.ref(null),s=w=>Array.isArray(a.value)?a.value.some(T=>u.getYear(T)===w):a.value?u.getYear(a.value)===w:!1,l=w=>t.range&&Array.isArray(a.value)?St(a.value,n.value,M(w)):!1,m=e.computed(()=>Ve(Ct(t.yearRange,t.reverseYears),w=>{const T=s(w.value),V=Le(w.value,Ye(t.minDate),Ye(t.maxDate)),x=l(w.value);return{active:T,disabled:V,isBetween:x}})),M=w=>u.setYear(be(new Date),w);return{groupedYears:m,setHoverValue:w=>{n.value=u.setYear(be(new Date),w)},selectYear:w=>{if(t.multiDates)return Rt(M(w),a,t.multiDatesLimit),r("auto-apply",!0);if(t.range){const T=Cn(a,M(w),r);return Vt(T,r,t.autoApply,t.modelAuto)}a.value=M(w),r("auto-apply")}}},Gr=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedYears:n,selectYear:s,setHoverValue:l}=jr(a,r);return(m,M)=>(e.openBlock(),e.createBlock(We,{items:e.unref(n),"is-last":m.autoApply&&!m.keepActionRow,height:m.modeHeight,type:"year","use-relative":"",onSelected:e.unref(s),onHoverValue:e.unref(l)},e.createSlots({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:k})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:k.text,value:k.value})]),key:"0"}:void 0]),1032,["items","is-last","height","onSelected","onHoverValue"]))}}),qr={key:0,class:"dp__time_input"},Zr=["aria-label","onKeydown","onClick"],Jr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Xr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Qr=["aria-label","disabled","onKeydown","onClick"],Fr=["aria-label","onKeydown","onClick"],ea=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ta=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),na={key:0},ra=["aria-label","onKeydown"],aa=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},...Te},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:s,setTimePickerBackRef:l}=ve(),{defaultedAriaLabels:m,defaultedTransitions:M,defaultedFilters:k}=pe(n),{transitionName:S,showTransition:w}=Ke(M),T=e.reactive({hours:!1,minutes:!1,seconds:!1}),V=e.ref("AM"),x=e.ref(null),L=e.ref([]);e.onMounted(()=>{a("mounted")});const Z=o=>u.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:n.enableSeconds?o.seconds:0,milliseconds:0}),U=e.computed(()=>o=>C(o,n[o])),b=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),$=e.computed(()=>o=>!H(+n[o]+ +n[`${o}Increment`],o)),E=e.computed(()=>o=>!H(+n[o]-+n[`${o}Increment`],o)),I=(o,z)=>u.add(u.set(v(),o),z),B=(o,z)=>u.sub(u.set(v(),o),z),j=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!n.timePickerInline,dp__time_col_reg_block:!n.enableSeconds&&n.is24&&!n.timePickerInline,dp__time_col_reg_inline:!n.enableSeconds&&n.is24&&n.timePickerInline,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),W=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),ee=e.computed(()=>W.value.filter(o=>!o.separator)),g=e.computed(()=>o=>{if(o==="hours"){const z=c(+n.hours);return{text:z<10?`0${z}`:`${z}`,value:z}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),C=(o,z)=>{var h;if(!n.disabledTimesConfig)return!1;const P=n.disabledTimesConfig(n.order,o==="hours"?z:void 0);return P[o]?!!((h=P[o])!=null&&h.includes(z)):!0},N=o=>{const z=n.is24?24:12,P=o==="hours"?z:60,h=+n[`${o}GridIncrement`],O=o==="hours"&&!n.is24?h:0,F=[];for(let K=O;K<P;K+=h)F.push({value:K,text:K<10?`0${K}`:`${K}`});return o==="hours"&&!n.is24&&F.push({value:0,text:"12"}),Ve(F,K=>({active:!1,disabled:k.value.times[o].includes(K.value)||!H(K.value,o)||C(o,K.value)}))},H=(o,z)=>{const P=n.minTime?Z(Tt(n.minTime)):null,h=n.maxTime?Z(Tt(n.maxTime)):null,O=Z(Tt(b.value,z,o));return P&&h?(u.isBefore(O,h)||u.isEqual(O,h))&&(u.isAfter(O,P)||u.isEqual(O,P)):P?u.isAfter(O,P)||u.isEqual(O,P):h?u.isBefore(O,h)||u.isEqual(O,h):!0},p=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],Y=o=>{p(o)||(T[o]=!T[o],T[o]||a("overlay-closed"))},f=o=>o==="hours"?u.getHours:o==="minutes"?u.getMinutes:u.getSeconds,D=(o,z=!0)=>{const P=z?I:B,h=z?+n[`${o}Increment`]:-+n[`${o}Increment`];H(+n[o]+h,o)&&a(`update:${o}`,f(o)(P({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},c=o=>n.is24?o:(o>=12?V.value="PM":V.value="AM",nr(o)),y=()=>{V.value==="PM"?(V.value="AM",a("update:hours",n.hours-12)):(V.value="PM",a("update:hours",n.hours+12)),a("am-pm-change",V.value)},i=o=>{T[o]=!0},A=(o,z,P)=>{if(o&&n.arrowNavigation){Array.isArray(L.value[z])?L.value[z][P]=o:L.value[z]=[o];const h=L.value.reduce((O,F)=>F.map((K,le)=>[...O[le]||[],F[le]]),[]);l(n.closeTimePickerBtn),x.value&&(h[1]=h[1].concat(x.value)),s(h,n.order)}},J=(o,z)=>(Y(o),o==="hours"&&!n.is24?a(`update:${o}`,V.value==="PM"?z+12:z):a(`update:${o}`,z));return r({openChildCmp:i}),(o,z)=>{var P;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",qr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(W.value,(h,O)=>{var F,K,le;return e.openBlock(),e.createElementBlock("div",{key:O,class:e.normalizeClass(j.value)},[h.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_top:n.timePickerInline,dp__inc_dec_button_disabled:$.value(h.type)}),"aria-label":(F=e.unref(m))==null?void 0:F.incrementValue(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>D(h.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>D(h.type),["prevent"]),["space"])],onClick:te=>D(h.type),ref_for:!0,ref:te=>A(te,O,0)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Jr,Xr],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))],64))],42,Zr),e.createElementVNode("button",{type:"button","aria-label":(K=e.unref(m))==null?void 0:K.openTpOverlay(h.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!n.timePickerInline,dp__time_display_inline:n.timePickerInline,"dp--time-invalid":U.value(h.type),"dp--time-overlay-btn":!U.value(h.type)}),disabled:p(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>Y(h.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>Y(h.type),["prevent"]),["space"])],onClick:te=>Y(h.type),ref_for:!0,ref:te=>A(te,O,1)},[o.$slots[h.type]?e.renderSlot(o.$slots,h.type,{key:0,text:g.value(h.type).text,value:g.value(h.type).value}):e.createCommentVNode("",!0),o.$slots[h.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.value(h.type).text),1)],64))],42,Qr),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_bottom:n.timePickerInline,dp__inc_dec_button_disabled:E.value(h.type)}),"aria-label":(le=e.unref(m))==null?void 0:le.decrementValue(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>D(h.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>D(h.type,!1),["prevent"]),["space"])],onClick:te=>D(h.type,!1),ref_for:!0,ref:te=>A(te,O,2)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[ea,ta],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ut),{key:1}))],64))],42,Fr)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",na,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:y,value:V.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:x,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(P=e.unref(m))==null?void 0:P.amPmButton,tabindex:"0",onClick:y,onKeydown:[e.withKeys(e.withModifiers(y,["prevent"]),["enter"]),e.withKeys(e.withModifiers(y,["prevent"]),["space"])]},e.toDisplayString(V.value),41,ra))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ee.value,(h,O)=>(e.openBlock(),e.createBlock(e.Transition,{key:O,name:e.unref(S)(T[h.type]),css:e.unref(w)},{default:e.withCtx(()=>[T[h.type]?(e.openBlock(),e.createBlock(We,{key:0,items:N(h.type),"is-last":o.autoApply&&!o.keepActionRow,"esc-close":o.escClose,type:h.type,"text-input":o.textInput,"arrow-navigation":o.arrowNavigation,onSelected:F=>J(h.type,F),onToggle:F=>Y(h.type),onResetFlow:z[0]||(z[0]=F=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))]),_:2},[o.$slots[`${h.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:F})=>[e.renderSlot(o.$slots,`${h.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),oa=["aria-label"],la=["tabindex"],sa=["aria-label"],Sn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},...Te},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:s,setTimePicker:l}=ve(),m=e.useSlots(),{defaultedTransitions:M,defaultedAriaLabels:k,defaultedTextInput:S}=pe(n),{transitionName:w,showTransition:T}=Ke(M),{hideNavigationButtons:V}=et(),x=e.ref(null),L=e.ref(null),Z=e.ref([]),U=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?s([ce(x.value)],"time"):l(!0,n.timePicker)});const b=e.computed(()=>n.range&&n.modelAuto?sn(n.internalModelValue):!0),$=e.ref(!1),E=p=>({hours:Array.isArray(n.hours)?n.hours[p]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[p]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[p]:n.seconds}),I=e.computed(()=>{const p=[];if(n.range)for(let Y=0;Y<2;Y++)p.push(E(Y));else p.push(E(0));return p}),B=(p,Y=!1,f="")=>{Y||a("reset-flow"),$.value=p,a(p?"overlay-opened":"overlay-closed"),n.arrowNavigation&&l(p),e.nextTick(()=>{f!==""&&Z.value[0]&&Z.value[0].openChildCmp(f)})},j=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow})),W=De(m,"timePicker"),ee=(p,Y,f)=>n.range?Y===0?[p,I.value[1][f]]:[I.value[0][f],p]:p,g=p=>{a("update:hours",p)},C=p=>{a("update:minutes",p)},N=p=>{a("update:seconds",p)},H=()=>{if(U.value&&!S.value.enabled){const p=ar(U.value);p&&p.focus({preventScroll:!0})}};return r({toggleTimePicker:B}),(p,Y)=>{var f;return e.openBlock(),e.createElementBlock("div",null,[!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(j.value),"aria-label":(f=e.unref(k))==null?void 0:f.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:x,onKeydown:[Y[0]||(Y[0]=e.withKeys(D=>B(!0),["enter"])),Y[1]||(Y[1]=e.withKeys(D=>B(!0),["space"]))],onClick:Y[2]||(Y[2]=D=>B(!0))},[p.$slots["clock-icon"]?e.renderSlot(p.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))],42,oa)),[[e.vShow,!e.unref(V)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(w)($.value),css:e.unref(T)&&!p.timePickerInline},{default:e.withCtx(()=>{var D;return[$.value||p.timePicker||p.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass({dp__overlay:!p.timePickerInline,"dp--overlay-absolute":!n.timePicker&&!p.timePickerInline,"dp--overlay-relative":n.timePicker}),style:e.normalizeStyle(p.timePicker?{height:`${p.modeHeight}px`}:void 0),ref_key:"overlayRef",ref:U,tabindex:p.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(p.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[p.$slots["time-picker-overlay"]?e.renderSlot(p.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:g,setMinutes:C,setSeconds:N}):e.createCommentVNode("",!0),p.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(p.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(c,y)=>e.withDirectives((e.openBlock(),e.createBlock(aa,e.mergeProps({key:y},{...p.$props,order:y,hours:c.hours,minutes:c.minutes,seconds:c.seconds,closeTimePickerBtn:L.value,disabledTimesConfig:t.disabledTimesConfig,disabled:y===0?p.fixedStart:p.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:Z,"onUpdate:hours":i=>g(ee(i,y,"hours")),"onUpdate:minutes":i=>C(ee(i,y,"minutes")),"onUpdate:seconds":i=>N(ee(i,y,"seconds")),onMounted:H,onOverlayClosed:H,onAmPmChange:Y[3]||(Y[3]=i=>p.$emit("am-pm-change",i))}),e.createSlots({_:2},[e.renderList(e.unref(W),(i,A)=>({name:i,fn:e.withCtx(J=>[e.renderSlot(p.$slots,i,e.normalizeProps(e.guardReactiveProps(J)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,y===0?!0:b.value]])),128))],2)),!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:L,class:e.normalizeClass(j.value),"aria-label":(D=e.unref(k))==null?void 0:D.closeTimePicker,tabindex:"0",onKeydown:[Y[4]||(Y[4]=e.withKeys(c=>B(!1),["enter"])),Y[5]||(Y[5]=e.withKeys(c=>B(!1),["space"]))],onClick:Y[6]||(Y[6]=c=>B(!1))},[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))],42,sa)),[[e.vShow,!e.unref(V)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,la)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Tn=(t,r,a,n)=>{const s=(b,$)=>Array.isArray(r[b])?r[b][$]:r[b],l=b=>t.enableSeconds?Array.isArray(r.seconds)?r.seconds[b]:r.seconds:0,m=(b,$)=>b?$!==void 0?$e(b,s("hours",$),s("minutes",$),l($)):$e(b,r.hours,r.minutes,l()):v(),M=(b,$)=>{r[b]=$},k=(b,$)=>{const E=Object.fromEntries(Object.keys(r).map(I=>I===b?[I,$]:[I,r[I]].slice()));if(t.range&&!t.disableTimeRangeValidation){const I=j=>a.value?$e(a.value[j],E.hours[j],E.minutes[j],E.seconds[j]):null,B=j=>u.setMilliseconds(a.value[j],0);return!(ae(I(0),I(1))&&(u.isAfter(I(0),B(1))||u.isBefore(I(1),B(0))))}return!0},S=(b,$)=>{k(b,$)&&(M(b,$),n&&n())},w=b=>{S("hours",b)},T=b=>{S("minutes",b)},V=b=>{S("seconds",b)},x=(b,$,E,I)=>{$&&w(b),!$&&!E&&T(b),E&&V(b),a.value&&I(a.value)},L=b=>{if(b){const $=Array.isArray(b),E=$?[+b[0].hours,+b[1].hours]:+b.hours,I=$?[+b[0].minutes,+b[1].minutes]:+b.minutes,B=$?[+b[0].seconds,+b[1].seconds]:+b.seconds;M("hours",E),M("minutes",I),t.enableSeconds&&M("seconds",B)}},Z=(b,$)=>{const E={hours:Array.isArray(r.hours)?r.hours[b]:r.hours,disabledArr:[]};return($||$===0)&&(E.hours=$),Array.isArray(t.disabledTimes)&&(E.disabledArr=t.range&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),E},U=e.computed(()=>(b,$)=>{var E;if(Array.isArray(t.disabledTimes)){const{disabledArr:I,hours:B}=Z(b,$),j=I.filter(W=>+W.hours===B);return((E=j[0])==null?void 0:E.minutes)==="*"?{hours:[B],minutes:void 0,seconds:void 0}:{hours:[],minutes:(j==null?void 0:j.map(W=>+W.minutes))??[],seconds:(j==null?void 0:j.map(W=>W.seconds?+W.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:M,updateHours:w,updateMinutes:T,updateSeconds:V,getSetDateTime:m,updateTimeValues:x,getSecondsValue:l,assignStartTime:L,disabledTimesConfig:U}},ia=(t,r)=>{const{modelValue:a,time:n}=Fe(t,r),{defaultedStartTime:s}=pe(t),{updateTimeValues:l,getSetDateTime:m,setTime:M,assignStartTime:k,disabledTimesConfig:S}=Tn(t,n,a),w=$=>{const{hours:E,minutes:I,seconds:B}=$;return{hours:+E,minutes:+I,seconds:B?+B:0}},T=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const E=w(t.startTime[0]),I=w(t.startTime[1]);return[u.set(v(),E),u.set(v(),I)]}const $=w(t.startTime);return u.set(v(),$)}return t.range?[null,null]:null},V=()=>{if(t.range){const[$,E]=T();a.value=[m($,0),m(E,1)]}else a.value=m(T())},x=$=>Array.isArray($)?[Ne(v($[0])),Ne(v($[1]))]:[Ne($??v())],L=($,E,I)=>{M("hours",$),M("minutes",E),t.enableSeconds&&M("seconds",I)},Z=()=>{const[$,E]=x(a.value);return t.range?L([$.hours,E.hours],[$.minutes,E.minutes],[$.seconds,E.minutes]):L($.hours,$.minutes,$.seconds)};e.onMounted(()=>{if(!t.shadow)return k(s.value),a.value?Z():V()});const U=()=>{Array.isArray(a.value)?a.value=a.value.map(($,E)=>$&&m($,E)):a.value=m(a.value),r("time-update")};return{time:n,disabledTimesConfig:S,updateTime:($,E=!0,I=!1)=>{l($,E,I,U)}}},ua=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Te},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{emit:r}){const a=t,n=e.useSlots(),s=De(n,"timePicker"),{time:l,disabledTimesConfig:m,updateTime:M}=ia(a,r);return(k,S)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Sn,e.mergeProps(k.$props,{hours:e.unref(l).hours,minutes:e.unref(l).minutes,seconds:e.unref(l).seconds,"internal-model-value":k.internalModelValue,"disabled-times-config":e.unref(m),"onUpdate:hours":S[0]||(S[0]=w=>e.unref(M)(w)),"onUpdate:minutes":S[1]||(S[1]=w=>e.unref(M)(w,!1)),"onUpdate:seconds":S[2]||(S[2]=w=>e.unref(M)(w,!1,!0)),onAmPmChange:S[3]||(S[3]=w=>k.$emit("am-pm-change",w))}),e.createSlots({_:2},[e.renderList(e.unref(s),(w,T)=>({name:w,fn:e.withCtx(V=>[e.renderSlot(k.$slots,w,e.normalizeProps(e.guardReactiveProps(V)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"])]),_:3}))}}),ca={class:"dp__month_year_row"},da=["aria-label","onClick","onKeydown"],fa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Te},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTransitions:s,defaultedAriaLabels:l,defaultedMultiCalendars:m,defaultedFilters:M}=pe(n),{transitionName:k,showTransition:S}=Ke(s),{buildMatrix:w}=ve(),{handleMonthYearChange:T,isDisabled:V,updateMonthYear:x}=Cr(n,a),{showLeftIcon:L,showRightIcon:Z}=et(),U=e.ref(!1),b=e.ref(!1),$=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const E=c=>({get:()=>n[c],set:y=>{const i=c===Me.month?Me.year:Me.month;a("update-month-year",{[c]:y,[i]:n[i]}),c===Me.month?N(!0):H(!0)}}),I=e.computed(E(Me.month)),B=e.computed(E(Me.year)),j=e.computed(()=>c=>({month:n.month,year:n.year,items:c===Me.month?n.months:n.years,instance:n.instance,updateMonthYear:x,toggle:c===Me.month?N:H})),W=e.computed(()=>{const c=n.months.find(y=>y.value===n.month);return c||{text:"",value:0}}),ee=e.computed(()=>Ve(n.months,c=>{const y=n.month===c.value,i=Le(c.value,fn(n.year,n.minDate),mn(n.year,n.maxDate))||M.value.months.includes(c.value);return{active:y,disabled:i}})),g=e.computed(()=>Ve(n.years,c=>{const y=n.year===c.value,i=Le(c.value,Ye(n.minDate),Ye(n.maxDate))||M.value.years.includes(c.value);return{active:y,disabled:i}})),C=(c,y)=>{y!==void 0?c.value=y:c.value=!c.value,c.value||a("overlay-closed")},N=(c=!1,y)=>{p(c),C(U,y)},H=(c=!1,y)=>{p(c),C(b,y)},p=c=>{c||a("reset-flow")},Y=(c,y)=>{n.arrowNavigation&&($.value[y]=ce(c),w($.value,"monthYear"))},f=e.computed(()=>{var c,y;return[{type:Me.month,index:1,toggle:N,modelValue:I.value,updateModelValue:i=>I.value=i,text:W.value.text,showSelectionGrid:U.value,items:ee.value,ariaLabel:(c=l.value)==null?void 0:c.openMonthsOverlay},{type:Me.year,index:2,toggle:H,modelValue:B.value,updateModelValue:i=>B.value=i,text:n.year,showSelectionGrid:b.value,items:g.value,ariaLabel:(y=l.value)==null?void 0:y.openYearsOverlay}]}),D=e.computed(()=>n.disableYearSelect?[f.value[0]]:f.value);return r({toggleMonthPicker:N,toggleYearPicker:H,handleMonthYearChange:T}),(c,y)=>{var i,A,J;return e.openBlock(),e.createElementBlock("div",ca,[c.$slots["month-year"]?e.renderSlot(c.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(x),handleMonthYearChange:e.unref(T),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(L)(e.unref(m),t.instance)&&!c.vertical?(e.openBlock(),e.createBlock(xe,{key:0,"aria-label":(i=e.unref(l))==null?void 0:i.prevMonth,disabled:e.unref(V)(!1),onActivate:y[0]||(y[0]=o=>e.unref(T)(!1)),onSetRef:y[1]||(y[1]=o=>Y(o,0))},{default:e.withCtx(()=>[c.$slots["arrow-left"]?e.renderSlot(c.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:c.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(o,z)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o.type},[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":o.ariaLabel,ref_for:!0,ref:P=>Y(P,z+1),onClick:o.toggle,onKeydown:[e.withKeys(e.withModifiers(o.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(o.toggle,["prevent"]),["space"])]},[c.$slots[o.type]?e.renderSlot(c.$slots,o.type,{key:0,text:o.text,value:n[o.type]}):e.createCommentVNode("",!0),c.$slots[o.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],40,da),e.createVNode(e.Transition,{name:e.unref(k)(o.showSelectionGrid),css:e.unref(S)},{default:e.withCtx(()=>[o.showSelectionGrid?(e.openBlock(),e.createBlock(We,{key:0,items:o.items,"arrow-navigation":c.arrowNavigation,"hide-navigation":c.hideNavigation,"is-last":c.autoApply&&!c.keepActionRow,"skip-button-ref":!1,type:o.type,"header-refs":[],"esc-close":c.escClose,"text-input":c.textInput,onSelected:o.updateModelValue,onToggle:o.toggle},e.createSlots({"button-icon":e.withCtx(()=>[c.$slots["calendar-icon"]?e.renderSlot(c.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),c.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[c.$slots[`${o.type}-overlay-val`]?{name:"item",fn:e.withCtx(({item:P})=>[e.renderSlot(c.$slots,`${o.type}-overlay-val`,{text:P.text,value:P.value})]),key:"0"}:void 0,c.$slots[`${o.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${o.type}-overlay`,e.normalizeProps(e.guardReactiveProps(j.value(o.type))))]),key:"1"}:void 0,c.$slots[`${o.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${o.type}-overlay-header`,{toggle:o.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","type","esc-close","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(L)(e.unref(m),t.instance)&&c.vertical?(e.openBlock(),e.createBlock(xe,{key:1,"aria-label":(A=e.unref(l))==null?void 0:A.prevMonth,disabled:e.unref(V)(!1),onActivate:y[2]||(y[2]=o=>e.unref(T)(!1))},{default:e.withCtx(()=>[c.$slots["arrow-up"]?e.renderSlot(c.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(Z)(e.unref(m),t.instance)?(e.openBlock(),e.createBlock(xe,{key:2,ref:"rightIcon",disabled:e.unref(V)(!0),"aria-label":(J=e.unref(l))==null?void 0:J.nextMonth,onActivate:y[3]||(y[3]=o=>e.unref(T)(!0)),onSetRef:y[4]||(y[4]=o=>Y(o,c.disableYearSelect?2:3))},{default:e.withCtx(()=>[c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.renderSlot(c.$slots,c.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.vertical?e.unref(ut):e.unref(lt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),ma=["aria-label"],pa={class:"dp__calendar_header",role:"row"},ga={key:0,class:"dp__calendar_header_item",role:"gridcell"},ha=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ya=["aria-label"],ka={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},wa={class:"dp__cell_inner"},ba=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Ma=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Te},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:s}=ve(),{defaultedTransitions:l,defaultedAriaLabels:m,defaultedMultiCalendars:M}=pe(n),k=e.ref(null),S=e.ref({bottom:"",left:"",transform:""}),w=e.ref([]),T=e.ref(null),V=e.ref(!0),x=e.ref(""),L=e.ref({startX:0,endX:0,startY:0,endY:0}),Z=e.ref([]),U=e.ref({left:"50%"}),b=e.computed(()=>n.calendar?n.calendar(n.mappedDates):n.mappedDates),$=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):tr(n.formatLocale,n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:w}),n.noSwipe||T.value&&(T.value.addEventListener("touchstart",H,{passive:!1}),T.value.addEventListener("touchend",p,{passive:!1}),T.value.addEventListener("touchmove",Y,{passive:!1})),n.monthChangeOnScroll&&T.value&&T.value.addEventListener("wheel",c,{passive:!1})});const E=i=>i?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",I=(i,A)=>{if(n.transitions){const J=ke(Se(v(),n.month,n.year));x.value=ge(ke(Se(v(),i,A)),J)?l.value[E(!0)]:l.value[E(!1)],V.value=!1,e.nextTick(()=>{V.value=!0})}},B=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),j=e.computed(()=>i=>{const A=rr(i);return{dp__marker_dot:A.type==="dot",dp__marker_line:A.type==="line"}}),W=e.computed(()=>i=>ae(i,k.value)),ee=e.computed(()=>({dp__calendar:!0,dp__calendar_next:M.value.count>0&&n.instance!==0})),g=e.computed(()=>i=>n.hideOffsetDates?i.current:!0),C=async(i,A,J)=>{var o,z;if(a("set-hover-date",i),(z=(o=i.marker)==null?void 0:o.tooltip)!=null&&z.length){const P=ce(w.value[A][J]);if(P){const{width:h,height:O}=P.getBoundingClientRect();k.value=i.value;let F={left:`${h/2}px`},K=-50;if(await e.nextTick(),Z.value[0]){const{left:le,width:te}=Z.value[0].getBoundingClientRect();le<0&&(F={left:"0"},K=0,U.value.left=`${h/2}px`),window.innerWidth<le+te&&(F={right:"0"},K=0,U.value.left=`${te-h/2}px`)}S.value={bottom:`${O}px`,...F,transform:`translateX(${K}%)`},a("tooltip-open",i.marker)}}},N=i=>{k.value&&(k.value=null,S.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",i.marker))},H=i=>{L.value.startX=i.changedTouches[0].screenX,L.value.startY=i.changedTouches[0].screenY},p=i=>{L.value.endX=i.changedTouches[0].screenX,L.value.endY=i.changedTouches[0].screenY,f()},Y=i=>{n.vertical&&!n.inline&&i.preventDefault()},f=()=>{const i=n.vertical?"Y":"X";Math.abs(L.value[`start${i}`]-L.value[`end${i}`])>10&&a("handle-swipe",L.value[`start${i}`]>L.value[`end${i}`]?"right":"left")},D=(i,A,J)=>{i&&(Array.isArray(w.value[A])?w.value[A][J]=i:w.value[A]=[i]),n.arrowNavigation&&s(w.value,"calendar")},c=i=>{n.monthChangeOnScroll&&(i.preventDefault(),a("handle-scroll",i))},y=i=>{const A=i[0];return n.weekNumbers==="local"?u.getWeek(A.value,{weekStartsOn:+n.weekStart}):n.weekNumbers==="iso"?u.getISOWeek(A.value):typeof n.weekNumbers=="function"?n.weekNumbers(A.value):""};return r({triggerTransition:I}),(i,A)=>{var J;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(ee.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:T,role:"grid",class:e.normalizeClass(B.value),"aria-label":(J=e.unref(m))==null?void 0:J.calendarWrap},[(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",pa,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ga,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.value,(o,z)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:z},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:o,index:z}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o),1)],64))]))),128))]),ha,e.createVNode(e.Transition,{name:x.value,css:!!i.transitions},{default:e.withCtx(()=>{var o;return[V.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":((o=e.unref(m))==null?void 0:o.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,(z,P)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:P},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ka,[e.createElementVNode("div",wa,e.toDisplayString(y(z.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.days,(h,O)=>{var F,K,le;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:te=>D(te,P,O),key:O+P,"aria-selected":h.classData.dp__active_date||h.classData.dp__range_start||h.classData.dp__range_start,"aria-disabled":h.classData.dp__cell_disabled||void 0,"aria-label":(K=(F=e.unref(m))==null?void 0:F.day)==null?void 0:K.call(F,h),tabindex:"0",onClick:e.withModifiers(te=>i.$emit("select-date",h),["stop","prevent"]),onKeydown:[e.withKeys(te=>i.$emit("select-date",h),["enter"]),e.withKeys(te=>i.$emit("handle-space",h),["space"])],onMouseenter:te=>C(h,P,O),onMouseleave:te=>N(h)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",h.classData])},[i.$slots.day&&g.value(h)?e.renderSlot(i.$slots,"day",{key:0,day:+h.text,date:h.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(h.text),1)],64)),h.marker&&g.value(h)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[i.$slots.marker?e.renderSlot(i.$slots,"marker",{key:0,marker:h.marker,day:+h.text,date:h.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(j.value(h.marker)),style:e.normalizeStyle(h.marker.color?{backgroundColor:h.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),W.value(h.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:Z,style:e.normalizeStyle(S.value)},[(le=h.marker)!=null&&le.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:A[0]||(A[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.marker.tooltip,(te,_)=>(e.openBlock(),e.createElementBlock("div",{key:_,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltip:te,day:h.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(te.color?{backgroundColor:te.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(te.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(U.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,ba)}),128))]))),128))],8,ya)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],10,ma)],2)}}}),$n=t=>Array.isArray(t),Da=(t,r,a,n)=>{const s=e.ref([]),{modelValue:l,calendars:m,time:M}=Fe(t,r),{defaultedMultiCalendars:k,defaultedStartTime:S}=pe(t),{validateMonthYearInRange:w,isDisabled:T,isDateRangeAllowed:V,checkMinMaxRange:x}=Ue(t),{updateTimeValues:L,getSetDateTime:Z,setTime:U,assignStartTime:b,disabledTimesConfig:$}=Tn(t,M,l,n),E=e.computed(()=>d=>m.value[d]?m.value[d].month:0),I=e.computed(()=>d=>m.value[d]?m.value[d].year:0),B=(d,R,X)=>{var re,se;m.value[d]||(m.value[d]={month:0,year:0}),m.value[d].month=cn(R)?(re=m.value[d])==null?void 0:re.month:R,m.value[d].year=cn(X)?(se=m.value[d])==null?void 0:se.year:X},j=()=>{t.autoApply&&r("select-date")};e.watch(l,(d,R)=>{JSON.stringify(d)!==JSON.stringify(R)&&g()}),e.onMounted(()=>{t.shadow||(l.value||(i(),S.value&&b(S.value)),g(!0),t.focusStartDate&&t.startDate&&i())});const W=e.computed(()=>{var d;return(d=t.flow)!=null&&d.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),ee=()=>{t.autoApply&&W.value&&r("auto-apply",t.partialFlow)},g=(d=!1)=>{if(l.value)return Array.isArray(l.value)?(s.value=l.value,f(d)):N(l.value,d);if(k.value.count&&d&&!t.startDate)return C(v(),d)},C=(d,R=!1)=>{if((!k.value.count||!k.value.static||R)&&B(0,u.getMonth(d),u.getYear(d)),k.value.count)for(let X=1;X<k.value.count;X++){const re=u.set(v(),{month:E.value(X-1),year:I.value(X-1)}),se=u.add(re,{months:1});m.value[X]={month:u.getMonth(se),year:u.getYear(se)}}},N=(d,R)=>{C(d),U("hours",u.getHours(d)),U("minutes",u.getMinutes(d)),U("seconds",u.getSeconds(d)),k.value.count&&R&&y()},H=d=>{if(k.value.count){if(k.value.solo)return 0;const R=u.getMonth(d[0]),X=u.getMonth(d[1]);return Math.abs(X-R)<k.value.count?0:1}return 1},p=(d,R)=>{d[1]&&t.showLastInRange?C(d[H(d)],R):C(d[0],R);const X=(re,se)=>[re(d[0]),d[1]?re(d[1]):M[se][1]];U("hours",X(u.getHours,"hours")),U("minutes",X(u.getMinutes,"minutes")),U("seconds",X(u.getSeconds,"seconds"))},Y=(d,R)=>{if((t.range||t.weekPicker)&&!t.multiDates)return p(d,R);if(t.multiDates&&R){const X=d[d.length-1];return N(X,R)}},f=d=>{const R=l.value;Y(R,d),k.value.count&&k.value.solo&&y()},D=(d,R)=>{const X=u.set(v(),{month:E.value(R),year:I.value(R)}),re=d<0?u.addMonths(X,1):u.subMonths(X,1);w(u.getMonth(re),u.getYear(re),d<0,t.preventMinMaxNavigation)&&(B(R,u.getMonth(re),u.getYear(re)),k.value.count&&!k.value.solo&&c(R),a())},c=d=>{for(let R=d-1;R>=0;R--){const X=u.subMonths(u.set(v(),{month:E.value(R+1),year:I.value(R+1)}),1);B(R,u.getMonth(X),u.getYear(X))}for(let R=d+1;R<=k.value.count-1;R++){const X=u.addMonths(u.set(v(),{month:E.value(R-1),year:I.value(R-1)}),1);B(R,u.getMonth(X),u.getYear(X))}},y=()=>{if(Array.isArray(l.value)&&l.value.length===2){const d=v(v(l.value[1]?l.value[1]:u.addMonths(l.value[0],1))),[R,X]=[u.getMonth(l.value[0]),u.getYear(l.value[0])],[re,se]=[u.getMonth(l.value[1]),u.getYear(l.value[1])];(R!==re||R===re&&X!==se)&&k.value.solo&&B(1,u.getMonth(d),u.getYear(d))}else l.value&&!Array.isArray(l.value)&&(B(0,u.getMonth(l.value),u.getYear(l.value)),C(v()))},i=()=>{t.startDate&&(B(0,u.getMonth(v(t.startDate)),u.getYear(v(t.startDate))),k.value.count&&c(0))},A=(d,R)=>{t.monthChangeOnScroll&&D(t.monthChangeOnScroll!=="inverse"?-d.deltaY:d.deltaY,R)},J=(d,R,X=!1)=>{t.monthChangeOnArrows&&t.vertical===X&&o(d,R)},o=(d,R)=>{D(d==="right"?-1:1,R)},z=d=>t.markers.find(R=>ae(pn(d.value),pn(R.date))),P=(d,R)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[d==0,!0];case"fair":return[d==0||R>d,!0];case"append":return[!1,!1];default:return[!1,!1]}},h=(d,R,X,re)=>{if(t.sixWeeks&&d.length<6){const se=6-d.length,Ae=(R.getDay()+7-re)%7,rt=6-(X.getDay()+7-re)%7,[qe,xt]=P(Ae,rt);for(let Re=1;Re<=se;Re++)if(xt?!!(Re%2)==qe:qe){const at=d[0].days[0],jt=O(u.addDays(at.value,-7),u.getMonth(R));d.unshift({days:jt})}else{const at=d[d.length-1],jt=at.days[at.days.length-1],Ya=O(u.addDays(jt.value,1),u.getMonth(R));d.push({days:Ya})}}return d},O=(d,R)=>{const X=v(JSON.parse(JSON.stringify(d))),re=[];for(let se=0;se<7;se++){const Ae=u.addDays(X,se),Ge=u.getMonth(Ae)!==R;re.push({text:t.hideOffsetDates&&Ge?"":Ae.getDate(),value:Ae,current:!Ge,classData:{}})}return re},F=(d,R)=>{const X=[],re=v(Ce(new Date(R,d),t.timezone)),se=v(Ce(new Date(R,d+1,0),t.timezone)),Ae=t.weekStart,Ge=u.startOfWeek(re,{weekStartsOn:Ae}),rt=qe=>{const xt=O(qe,d);if(X.push({days:xt}),!X[X.length-1].days.some(Re=>ae(ke(Re.value),ke(se)))){const Re=u.addDays(qe,7);rt(Re)}};return rt(Ge),h(X,re,se,Ae)},K=d=>(l.value=Je(v(d.value),t.timezone,t.weekStart),ee()),le=d=>{const R=$e(v(d.value),M.hours,M.minutes,nt());t.multiDates?Rt(R,l,t.multiDatesLimit):l.value=R,n(),e.nextTick().then(()=>{ee()})},te=d=>t.noDisabledRange?gn(s.value[0],d).some(X=>T(X)):!1,_=()=>{s.value=l.value?l.value.slice():[],s.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(s.value=[])},G=(d,R)=>{const X=[v(d.value),u.addDays(v(d.value),+t.autoRange)];V(X)&&(R&&ue(d.value),s.value=X)},ue=d=>{const R=u.getMonth(v(d)),X=u.getYear(v(d));if(B(0,R,X),k.value.count>0)for(let re=1;re<k.value.count;re++){const se=ur(u.set(v(d),{year:E.value(re-1),month:I.value(re-1)}));B(re,se.month,se.year)}},q=d=>Array.isArray(l.value)&&l.value.length===2?t.fixedStart&&(ge(d,l.value[0])||ae(d,l.value[0]))?[l.value[0],d]:t.fixedEnd&&(fe(d,l.value[1])||ae(d,l.value[1]))?[d,l.value[1]]:(r("invalid-fixed-range",d),l.value):[],we=d=>{te(d.value)||!x(d.value,l.value,t.fixedStart?0:1)||(s.value=q(v(d.value)))},de=(d,R)=>{if(_(),t.autoRange)return G(d,R);if(t.fixedStart||t.fixedEnd)return we(d);s.value[0]?x(v(d.value),l.value)&&!te(d.value)&&(fe(v(d.value),v(s.value[0]))?(s.value.unshift(v(d.value)),r("range-end",s.value[0])):(s.value[1]=v(d.value),r("range-end",s.value[1]))):(s.value[0]=v(d.value),r("range-start",s.value[0]))},nt=(d=!0)=>t.enableSeconds?Array.isArray(M.seconds)?d?M.seconds[0]:M.seconds[1]:M.seconds:0,je=d=>{s.value[d]=$e(s.value[d],M.hours[d],M.minutes[d],nt(d!==1))},It=()=>{var d,R;s.value[0]&&s.value[1]&&+((d=s.value)==null?void 0:d[0])>+((R=s.value)==null?void 0:R[1])&&(s.value.reverse(),r("range-start",s.value[0]),r("range-end",s.value[1]))},zt=()=>{s.value.length&&(s.value[0]&&!s.value[1]?je(0):(je(0),je(1),n()),It(),l.value=s.value.slice(),Vt(s.value,r,t.autoApply,t.modelAuto))},Lt=(d,R=!1)=>{if(!(T(d.value)||!d.current&&t.hideOffsetDates)){if(t.weekPicker)return K(d);if(!t.range)return le(d);$n(M.hours)&&$n(M.minutes)&&!t.multiDates&&(de(d,R),zt())}},Ht=(d,R)=>{B(d,R.month,R.year),k.value.count&&!k.value.solo&&c(d),r("update-month-year",{instance:d,month:R.month,year:R.year}),a(k.value.solo?d:void 0),n()},Kt=(d,R)=>{Array.isArray(d)&&d.length<=2&&t.range?l.value=d.map(X=>Ce(v(X),R?void 0:t.timezone)):Array.isArray(d)||(l.value=Ce(v(d),R?void 0:t.timezone)),j(),t.multiCalendars&&e.nextTick().then(()=>g(!0))},Ut=()=>{t.range?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=fe(v(),l.value[0])?[v(),l.value[0]]:[l.value[0],v()]:l.value=[v()]:l.value=v(),j()},Wt=()=>{if(Array.isArray(l.value))if(t.multiDates){const d=Q();l.value[l.value.length-1]=Z(d)}else l.value=l.value.map((d,R)=>d&&Z(d,R));else l.value=Z(l.value);r("time-update")},Q=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:m,modelValue:l,month:E,year:I,time:M,disabledTimesConfig:$,getCalendarDays:F,getMarker:z,handleScroll:A,handleSwipe:o,handleArrow:J,selectDate:Lt,updateMonthYear:Ht,presetDate:Kt,selectCurrentDate:Ut,updateTime:(d,R=!0,X=!1)=>{L(d,R,X,Wt)}}},Ca={key:0},Sa=e.defineComponent({__name:"DatePicker",props:{...Te},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year"],setup(t,{expose:r,emit:a}){const n=t,{calendars:s,month:l,year:m,modelValue:M,time:k,disabledTimesConfig:S,getCalendarDays:w,getMarker:T,handleArrow:V,handleScroll:x,handleSwipe:L,selectDate:Z,updateMonthYear:U,presetDate:b,selectCurrentDate:$,updateTime:E}=Da(n,a,c,y),I=e.useSlots(),{setHoverDate:B,getDayClassData:j,clearHoverDate:W}=Br(M,n),{defaultedMultiCalendars:ee}=pe(n),g=e.ref([]),C=e.ref([]),N=e.ref(null),H=De(I,"calendar"),p=De(I,"monthYear"),Y=De(I,"timePicker"),f=P=>{n.shadow||a("mount",P)};e.watch(s,()=>{n.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const D=e.computed(()=>P=>w(l.value(P),m.value(P)).map(h=>({...h,days:h.days.map(O=>(O.marker=T(O),O.classData=j(O),O))})));function c(P){var h;P||P===0?(h=C.value[P])==null||h.triggerTransition(l.value(P),m.value(P)):C.value.forEach((O,F)=>O.triggerTransition(l.value(F),m.value(F)))}function y(){a("update-flow-step")}const i=(P,h=!1)=>{Z(P,h),n.spaceConfirm&&a("select-date")};return r({clearHoverDate:W,presetDate:b,selectCurrentDate:$,toggleMonthPicker:(P,h,O=0)=>{var F;(F=g.value[O])==null||F.toggleMonthPicker(P,h)},toggleYearPicker:(P,h,O=0)=>{var F;(F=g.value[O])==null||F.toggleYearPicker(P,h)},toggleTimePicker:(P,h,O)=>{var F;(F=N.value)==null||F.toggleTimePicker(P,h,O)},handleArrow:V,updateMonthYear:U,getSidebarProps:()=>({modelValue:M,month:l,year:m,time:k,updateTime:E,updateMonthYear:U,selectDate:Z,presetDate:b})}),(P,h)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Et,{"multi-calendars":e.unref(ee).count},{default:e.withCtx(({instance:O,index:F})=>[P.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(fa,e.mergeProps({key:0,ref:K=>{K&&(g.value[F]=K)},months:e.unref(ln)(P.formatLocale,P.locale,P.monthNameFormat),years:e.unref(Ct)(P.yearRange,P.reverseYears),month:e.unref(l)(O),year:e.unref(m)(O),instance:O},P.$props,{onMount:h[0]||(h[0]=K=>f(e.unref(_e).header)),onResetFlow:h[1]||(h[1]=K=>P.$emit("reset-flow")),onUpdateMonthYear:K=>e.unref(U)(O,K),onOverlayClosed:h[2]||(h[2]=K=>P.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(p),(K,le)=>({name:K,fn:e.withCtx(te=>[e.renderSlot(P.$slots,K,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(Ma,e.mergeProps({ref:K=>{K&&(C.value[F]=K)},"mapped-dates":D.value(O),month:e.unref(l)(O),year:e.unref(m)(O)},P.$props,{onSelectDate:K=>e.unref(Z)(K,O!==1),onHandleSpace:K=>i(K,O!==1),onSetHoverDate:h[3]||(h[3]=K=>e.unref(B)(K)),onHandleScroll:K=>e.unref(x)(K,O),onHandleSwipe:K=>e.unref(L)(K,O),onMount:h[4]||(h[4]=K=>f(e.unref(_e).calendar)),onResetFlow:h[5]||(h[5]=K=>P.$emit("reset-flow")),onTooltipOpen:h[6]||(h[6]=K=>P.$emit("tooltip-open",K)),onTooltipClose:h[7]||(h[7]=K=>P.$emit("tooltip-close",K))}),e.createSlots({_:2},[e.renderList(e.unref(H),(K,le)=>({name:K,fn:e.withCtx(te=>[e.renderSlot(P.$slots,K,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),P.enableTimePicker?(e.openBlock(),e.createElementBlock("div",Ca,[P.$slots["time-picker"]?e.renderSlot(P.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(k),updateTime:e.unref(E)}))):(e.openBlock(),e.createBlock(Sn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:N},P.$props,{hours:e.unref(k).hours,minutes:e.unref(k).minutes,seconds:e.unref(k).seconds,"internal-model-value":P.internalModelValue,"disabled-times-config":e.unref(S),onMount:h[8]||(h[8]=O=>f(e.unref(_e).timePicker)),"onUpdate:hours":h[9]||(h[9]=O=>e.unref(E)(O)),"onUpdate:minutes":h[10]||(h[10]=O=>e.unref(E)(O,!1)),"onUpdate:seconds":h[11]||(h[11]=O=>e.unref(E)(O,!1,!0)),onResetFlow:h[12]||(h[12]=O=>P.$emit("reset-flow")),onOverlayClosed:h[13]||(h[13]=O=>P.$emit("time-picker-close")),onOverlayOpened:h[14]||(h[14]=O=>P.$emit("time-picker-open",O)),onAmPmChange:h[15]||(h[15]=O=>P.$emit("am-pm-change",O))}),e.createSlots({_:2},[e.renderList(e.unref(Y),(O,F)=>({name:O,fn:e.withCtx(K=>[e.renderSlot(P.$slots,O,e.normalizeProps(e.guardReactiveProps(K)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"]))])):e.createCommentVNode("",!0)],64))}}),Ta=["id","onKeydown"],$a={key:0,class:"dp__sidebar_left"},Ba={key:1,class:"dp--preset-dates"},va=["onClick","onKeydown"],Aa={key:2,class:"dp__sidebar_right"},Na={key:3,class:"dp__action_extra"},Bn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...tt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.computed(()=>{const{openOnTop:_,...G}=n;return{...G,flowStep:j.value}}),{setMenuFocused:l,setShiftKey:m,control:M}=bn(),k=e.useSlots(),{defaultedTextInput:S,defaultedInline:w}=pe(n),T=e.ref(null),V=e.ref(0),x=e.ref(null),L=e.ref(null),Z=e.ref(!1),U=e.ref(null);e.onMounted(()=>{if(!n.shadow){Z.value=!0,b(),window.addEventListener("resize",b);const _=ce(x);if(_&&!S.value.enabled&&!w.value.enabled&&(l(!0),N()),_){const G=ue=>{n.allowPreventDefault&&ue.preventDefault(),ue.stopImmediatePropagation(),ue.stopPropagation()};_.addEventListener("pointerdown",G),_.addEventListener("mousedown",G)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",b)});const b=()=>{const _=ce(L);_&&(V.value=_.getBoundingClientRect().width)},{arrowRight:$,arrowLeft:E,arrowDown:I,arrowUp:B}=ve(),{flowStep:j,updateFlowStep:W,childMount:ee,resetFlow:g}=vr(n,a,U),C=e.computed(()=>n.monthPicker?xr:n.yearPicker?Gr:n.timePicker?ua:Sa),N=()=>{const _=ce(x);_&&_.focus({preventScroll:!0})},H=e.computed(()=>{var _;return((_=U.value)==null?void 0:_.getSidebarProps())||{}}),p=()=>{n.openOnTop&&a("recalculate-position")},Y=De(k,"action"),f=e.computed(()=>n.monthPicker||n.yearPicker?De(k,"monthYear"):n.timePicker?De(k,"timePicker"):De(k,"shared")),D=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),c=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),y=e.computed(()=>({dp__menu:!0,dp__menu_index:!w.value.enabled,dp__relative:w.value.enabled,[n.menuClassName]:!!n.menuClassName})),i=_=>{_.stopPropagation(),_.stopImmediatePropagation()},A=()=>{n.escClose&&a("close-picker")},J=_=>{if(n.arrowNavigation){if(_==="up")return B();if(_==="down")return I();if(_==="left")return E();if(_==="right")return $()}else _==="left"||_==="up"?O("handleArrow","left",0,_==="up"):O("handleArrow","right",0,_==="down")},o=_=>{m(_.shiftKey),!n.disableMonthYearSelect&&_.code==="Tab"&&_.target.classList.contains("dp__menu")&&M.value.shiftKeyInMenu&&(_.preventDefault(),_.stopImmediatePropagation(),a("close-picker"))},z=()=>{N(),a("time-picker-close")},P=_=>{var G,ue,q;(G=U.value)==null||G.toggleTimePicker(!1,!1),(ue=U.value)==null||ue.toggleMonthPicker(!1,!1,_),(q=U.value)==null||q.toggleYearPicker(!1,!1,_)},h=(_,G=0)=>{var ue,q,we;return _==="month"?(ue=U.value)==null?void 0:ue.toggleMonthPicker(!1,!0,G):_==="year"?(q=U.value)==null?void 0:q.toggleYearPicker(!1,!0,G):_==="time"?(we=U.value)==null?void 0:we.toggleTimePicker(!0,!1):P(G)},O=(_,...G)=>{var ue,q;(ue=U.value)!=null&&ue[_]&&((q=U.value)==null||q[_](...G))},F=()=>{O("selectCurrentDate")},K=(_,G)=>{O("presetDate",_,G)},le=()=>{O("clearHoverDate")};return r({updateMonthYear:(_,G)=>{O("updateMonthYear",_,G)},switchView:h}),(_,G)=>{var ue;return e.openBlock(),e.createElementBlock("div",{id:_.uid?`dp-menu-${_.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:x,role:"dialog",class:e.normalizeClass(y.value),onMouseleave:le,onClick:i,onKeydown:[e.withKeys(A,["esc"]),G[15]||(G[15]=e.withKeys(e.withModifiers(q=>J("left"),["prevent"]),["left"])),G[16]||(G[16]=e.withKeys(e.withModifiers(q=>J("up"),["prevent"]),["up"])),G[17]||(G[17]=e.withKeys(e.withModifiers(q=>J("down"),["prevent"]),["down"])),G[18]||(G[18]=e.withKeys(e.withModifiers(q=>J("right"),["prevent"]),["right"])),o]},[(_.disabled||_.readonly)&&e.unref(w).enabled?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(c.value)},null,2)):e.createCommentVNode("",!0),!e.unref(w).enabled&&!_.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(D.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:L,class:e.normalizeClass({dp__menu_content_wrapper:((ue=_.presetDates)==null?void 0:ue.length)||!!_.$slots["left-sidebar"]||!!_.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${V.value}px`})},[_.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",$a,[e.renderSlot(_.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(H.value)))])):e.createCommentVNode("",!0),_.presetDates.length?(e.openBlock(),e.createElementBlock("div",Ba,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.presetDates,(q,we)=>(e.openBlock(),e.createElementBlock("div",{key:we,style:e.normalizeStyle(q.style||{}),class:"dp--preset-range"},[q.slot?e.renderSlot(_.$slots,q.slot,{key:0,presetDate:K,label:q.label,value:q.value}):(e.openBlock(),e.createElementBlock("div",{key:1,role:"button",tabindex:"0",onClick:de=>K(q.value,q.noTz),onKeydown:[e.withKeys(e.withModifiers(de=>K(q.value,q.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(de=>K(q.value,q.noTz),["prevent"]),["space"])]},e.toDisplayString(q.label),41,va))],4))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:T,role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(C.value),e.mergeProps({ref_key:"dynCmpRef",ref:U},s.value,{"flow-step":e.unref(j),onMount:e.unref(ee),onUpdateFlowStep:e.unref(W),onResetFlow:e.unref(g),onFocusMenu:N,onSelectDate:G[0]||(G[0]=q=>_.$emit("select-date")),onTooltipOpen:G[1]||(G[1]=q=>_.$emit("tooltip-open",q)),onTooltipClose:G[2]||(G[2]=q=>_.$emit("tooltip-close",q)),onAutoApply:G[3]||(G[3]=q=>_.$emit("auto-apply",q)),onRangeStart:G[4]||(G[4]=q=>_.$emit("range-start",q)),onRangeEnd:G[5]||(G[5]=q=>_.$emit("range-end",q)),onInvalidFixedRange:G[6]||(G[6]=q=>_.$emit("invalid-fixed-range",q)),onTimeUpdate:G[7]||(G[7]=q=>_.$emit("time-update")),onAmPmChange:G[8]||(G[8]=q=>_.$emit("am-pm-change",q)),onTimePickerOpen:G[9]||(G[9]=q=>_.$emit("time-picker-open",q)),onTimePickerClose:z,onRecalculatePosition:p,onUpdateMonthYear:G[10]||(G[10]=q=>_.$emit("update-month-year",q)),"onUpdate:internalModelValue":G[11]||(G[11]=q=>_.$emit("update:internal-model-value",q))}),e.createSlots({_:2},[e.renderList(f.value,(q,we)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(_.$slots,q,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),_.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Aa,[e.renderSlot(_.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(H.value)))])):e.createCommentVNode("",!0),_.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Na,[_.$slots["action-extra"]?e.renderSlot(_.$slots,"action-extra",{key:0,selectCurrentDate:F}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!_.autoApply||_.keepActionRow?(e.openBlock(),e.createBlock(Yr,e.mergeProps({key:2,"menu-mount":Z.value},s.value,{"calendar-width":V.value,onClosePicker:G[12]||(G[12]=q=>_.$emit("close-picker")),onSelectDate:G[13]||(G[13]=q=>_.$emit("select-date")),onInvalidSelect:G[14]||(G[14]=q=>_.$emit("invalid-select")),onSelectNow:F}),e.createSlots({_:2},[e.renderList(e.unref(Y),(q,we)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(_.$slots,q,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,Ta)}}}),Pa=typeof window<"u"?window:void 0,Yt=()=>{},_a=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Ea=(t,r,a,n)=>{if(!t)return Yt;let s=Yt;const l=e.watch(()=>e.unref(t),M=>{s(),M&&(M.addEventListener(r,a,n),s=()=>{M.removeEventListener(r,a,n),s=Yt})},{immediate:!0,flush:"post"}),m=()=>{l(),s()};return _a(m),m},Ra=(t,r,a,n={})=>{const{window:s=Pa,event:l="pointerdown"}=n;return s?Ea(s,l,M=>{const k=ce(t),S=ce(r);!k||!S||k===M.target||M.composedPath().includes(k)||M.composedPath().includes(S)||a(M)},{passive:!0}):void 0},Va=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...tt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.useSlots(),l=e.ref(!1),m=e.toRef(n,"modelValue"),M=e.toRef(n,"timezone"),k=e.ref(null),S=e.ref(null),w=e.ref(null),T=e.ref(!1),V=e.ref(null),{setMenuFocused:x,setShiftKey:L}=bn(),{clearArrowNav:Z}=ve(),{mapDatesArrToMap:U,validateDate:b,isValidTime:$}=Ue(n),{defaultedTransitions:E,defaultedTextInput:I,defaultedInline:B}=pe(n),{menuTransition:j,showTransition:W}=Ke(E);e.onMounted(()=>{i(n.modelValue),e.nextTick().then(()=>{B.value.enabled||(f(V.value).addEventListener("scroll",O),window.addEventListener("resize",F))}),B.value.enabled&&(l.value=!0)});const ee=e.computed(()=>U());e.onUnmounted(()=>{if(!B.value.enabled){const Q=f(V.value);Q&&Q.removeEventListener("scroll",O),window.removeEventListener("resize",F)}});const g=De(s,"all",n.presetDates),C=De(s,"input");e.watch([m,M],()=>{i(m.value)},{deep:!0});const{openOnTop:N,menuStyle:H,xCorrect:p,setMenuPosition:Y,getScrollableParent:f,shadowRender:D}=Sr(k,S,w,V,B,a,n),{inputValue:c,internalModelValue:y,parseExternalModelValue:i,emitModelValue:A,formatInputValue:J,checkBeforeEmit:o}=Dr(a,n,T),z=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:B.value.enabled,dp__flex_display_with_input:B.value.input})),P=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),h=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:B.value.enabled}:{class:"dp__outer_menu_wrap"}),O=()=>{l.value&&(n.closeOnScroll?de():Y())},F=()=>{l.value&&Y()},K=()=>{!n.disabled&&!n.readonly&&(D(Bn,n),Y(!1),l.value=!0,l.value&&a("open"),l.value||we(),i(n.modelValue))},le=()=>{c.value="",we(),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),n.closeOnClearValue&&de()},te=()=>{const Q=y.value;return!Q||!Array.isArray(Q)&&b(Q)?!0:Array.isArray(Q)?Q.length===2&&b(Q[0])&&b(Q[1])?!0:n.partialRange&&!n.timePicker?b(Q[0]):!1:!1},_=()=>{o()&&te()?(A(),de()):a("invalid-select",y.value)},G=Q=>{ue(),A(),n.closeOnAutoApply&&!Q&&de()},ue=()=>{w.value&&I.value.enabled&&w.value.setParsedDate(y.value)},q=(Q=!1)=>{n.autoApply&&$(y.value)&&te()&&(n.range&&Array.isArray(y.value)?(n.partialRange||y.value.length===2)&&G(Q):G(Q))},we=()=>{I.value.enabled||(y.value=null)},de=()=>{B.value.enabled||(l.value&&(l.value=!1,p.value=!1,x(!1),L(!1),Z(),a("closed"),c.value&&i(m.value)),we(),a("blur"))},nt=(Q,ne)=>{if(!Q){y.value=null;return}y.value=Q,ne&&(_(),a("text-submit"))},je=()=>{n.autoApply&&$(y.value)&&A(),ue()},It=()=>l.value?de():K(),zt=Q=>{y.value=Q},Lt=()=>{I.value.enabled&&(T.value=!0,J()),a("focus")},Ht=()=>{I.value.enabled&&(T.value=!1,i(n.modelValue)),a("blur")},Kt=Q=>{S.value&&S.value.updateMonthYear(0,{month:un(Q.month),year:un(Q.year)})},Ut=Q=>{i(Q??n.modelValue)},Wt=(Q,ne)=>{var d;(d=S.value)==null||d.switchView(Q,ne)};return Ra(k,w,n.onClickOutside?()=>n.onClickOutside(te):de),r({closeMenu:de,selectDate:_,clearValue:le,openMenu:K,onScroll:O,formatInputValue:J,updateInternalModelValue:zt,setMonthYear:Kt,parseModel:Ut,switchView:Wt}),(Q,ne)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(z.value),ref_key:"pickerWrapperRef",ref:V},[e.createVNode(_r,e.mergeProps({ref_key:"inputRef",ref:w,"is-menu-open":l.value,"input-value":e.unref(c),"onUpdate:inputValue":ne[0]||(ne[0]=d=>e.isRef(c)?c.value=d:null)},Q.$props,{onClear:le,onOpen:K,onSetInputDate:nt,onSetEmptyDate:e.unref(A),onSelectDate:_,onToggle:It,onClose:de,onFocus:Lt,onBlur:Ht,onRealBlur:ne[1]||(ne[1]=d=>T.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(C),(d,R)=>({name:d,fn:e.withCtx(X=>[e.renderSlot(Q.$slots,d,e.normalizeProps(e.guardReactiveProps(X)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),e.createVNode(e.Transition,{name:e.unref(j)(e.unref(N)),css:e.unref(W)&&!e.unref(B).enabled},{default:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(Q.teleport?e.Teleport:"div"),e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:k},h.value,{class:{"dp--menu-wrapper":!e.unref(B).enabled},style:e.unref(B).enabled?void 0:e.unref(H)}),{default:e.withCtx(()=>[e.createVNode(Bn,e.mergeProps({ref_key:"dpMenuRef",ref:S,class:{[P.value]:!0,"dp--menu-wrapper":Q.teleport},style:Q.teleport?e.unref(H):void 0,"open-on-top":e.unref(N),"arr-map-values":ee.value},Q.$props,{"internal-model-value":e.unref(y),"onUpdate:internalModelValue":ne[2]||(ne[2]=d=>e.isRef(y)?y.value=d:null),onClosePicker:de,onSelectDate:_,onAutoApply:q,onTimeUpdate:je,onFlowStep:ne[3]||(ne[3]=d=>Q.$emit("flow-step",d)),onUpdateMonthYear:ne[4]||(ne[4]=d=>Q.$emit("update-month-year",d)),onInvalidSelect:ne[5]||(ne[5]=d=>Q.$emit("invalid-select",e.unref(y))),onInvalidFixedRange:ne[6]||(ne[6]=d=>Q.$emit("invalid-fixed-range",d)),onRecalculatePosition:e.unref(Y),onTooltipOpen:ne[7]||(ne[7]=d=>Q.$emit("tooltip-open",d)),onTooltipClose:ne[8]||(ne[8]=d=>Q.$emit("tooltip-close",d)),onTimePickerOpen:ne[9]||(ne[9]=d=>Q.$emit("time-picker-open",d)),onTimePickerClose:ne[10]||(ne[10]=d=>Q.$emit("time-picker-close",d)),onAmPmChange:ne[11]||(ne[11]=d=>Q.$emit("am-pm-change",d)),onRangeStart:ne[12]||(ne[12]=d=>Q.$emit("range-start",d)),onRangeEnd:ne[13]||(ne[13]=d=>Q.$emit("range-end",d))}),e.createSlots({_:2},[e.renderList(e.unref(g),(d,R)=>({name:d,fn:e.withCtx(X=>[e.renderSlot(Q.$slots,d,e.normalizeProps(e.guardReactiveProps({...X})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])]),_:3},16,["class","style"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2))}}),Ot=(()=>{const t=Va;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(Ot[t]=r)}),Ot});
