import{bB as v,aH as u,as as S,bC as g,bn as m,az as r,q as o,a_ as s,p as _,bu as b,bi as h,r as f,F as y,aK as C,aj as k}from"./index-3afa6c13.js";const N={props:{first_option:String,Class_Content:String,label:String,value:{type:[String,Number],required:!0},error:String,apiUrl:{type:String,required:!0},fieldName:{type:String,required:!0}},emits:["update:value"],setup(l,{emit:n}){const t=u([]),a=u(l.value);S(async()=>{i()});function c(e){const d=e.target.value;a.value=d,n("update:value",d)}async function i(){t.value=await g(l.apiUrl)}return m(()=>l.value,e=>{a.value=e}),m(()=>l.apiUrl,()=>{i(),console.log(l.apiUrl)}),{options:t,model:a,handleSelection:c}}},U={key:0,class:"form-label"},q={selected:"",value:""},w=["value"],B={key:1,class:"error"};function D(l,n,t,a,c,i){return r(),o("div",{class:k(t.Class_Content)},[t.label?(r(),o("label",U,s(t.label),1)):_("",!0),b(f("select",{class:"form-control","onUpdate:modelValue":n[0]||(n[0]=e=>a.model=e),onChange:n[1]||(n[1]=(...e)=>a.handleSelection&&a.handleSelection(...e))},[f("option",q,s(t.first_option),1),(r(!0),o(y,null,C(a.options,e=>(r(),o("option",{value:e.id,key:e.id},s(e[t.fieldName]),9,w))),128))],544),[[h,a.model]]),t.error?(r(),o("span",B,s(t.error),1)):_("",!0)],2)}const p=v(N,[["render",D]]);export{p as S};
