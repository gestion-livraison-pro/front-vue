import{bB as p,bD as f,bH as v,bF as g,bV as b,az as n,q as u,r as s,bx as V,z as d,o as m,p as i,aD as D,aA as U}from"./index-3afa6c13.js";import{i as a}from"./input-e668dea8.js";import{b as M}from"./simple-2283d124.js";const r=t=>(D("data-v-468c10bd"),t=t(),U(),t),C={class:"main-content"},P={class:"page-content"},y={class:"container-fluid"},h={class:"row"},N={class:"col-md-8"},S={class:"card"},T={class:"card-body"},_=r(()=>s("h5",null,"Utilisateur Information",-1)),w={class:"row"},F={class:"card"},c={class:"card-body"},k={class:"row"},A={class:"col-md-4"},I={class:"card"},B={class:"card-body"},R={class:"row"},L={key:1,class:"col-md-12 mt-4"},j=r(()=>s("label",{for:""},"Boutique Logo",-1)),q={class:"col-md-12 mt-4"},z=r(()=>s("label",{for:""},"Image de Profile",-1)),E={data(){return{formData:{Nom:"",Téléphone:"",Message:"",Adresse:"",Nom_Societe:"",Profile_img:"",old_MotdePasse:"",MotdePasse:"",confirmMotdePasse:"",Téléphone_Service:"",Logo:""},Role:f()}},async mounted(){const t=await v("https://api.gestion-livraison.pro/api/profile/get");this.formData={...t},console.log(t)},methods:{...g("auth",["setUsername","setProfileimg"]),async submitForm(){const t=await b("https://api.gestion-livraison.pro/api/profile/update",this.formData);this.setUsername(t.data.name),this.setProfileimg("https://api.gestion-livraison.pro/"+t.data.profile_img),console.log(store.state.username),console.log(store.state.profileimg)},handleFileUpload(t){const e=t.target.files[0];this.formData.Profile_img=e,console.log(this.formData.Profile_img),console.log(t.target.files[0])},handleFileUpload_customer(t){const e=t.target.files[0];this.formData.Logo=e,console.log(this.formData.Logo),console.log(t.target.files[0])}}},H=Object.assign(E,{__name:"profile",setup(t){return(e,o)=>(n(),u("div",C,[s("div",P,[s("div",y,[s("form",{enctype:"multipart/form-data",method:"post",onSubmit:o[20]||(o[20]=V((...l)=>e.submitForm&&e.submitForm(...l),["prevent"]))},[s("div",h,[s("div",N,[s("div",S,[s("div",T,[_,s("div",w,[d(a,{modelValue:e.Nom,"onUpdate:modelValue":o[0]||(o[0]=l=>e.Nom=l),label:"Nom Complete",type:"text",Class_Content:"col-md-6 mt-4",value:e.formData.Nom,"onUpdate:value":o[1]||(o[1]=l=>e.formData.Nom=l)},null,8,["modelValue","value"]),d(a,{modelValue:e.Téléphone,"onUpdate:modelValue":o[2]||(o[2]=l=>e.Téléphone=l),label:"Telephone",type:"text",Class_Content:"col-md-6 mt-4",value:e.formData.Téléphone,"onUpdate:value":o[3]||(o[3]=l=>e.formData.Téléphone=l)},null,8,["modelValue","value"]),d(a,{modelValue:e.Adresse,"onUpdate:modelValue":o[4]||(o[4]=l=>e.Adresse=l),label:"Adresse",type:"text",Class_Content:"col-md-12 mt-4",value:e.formData.Adresse,"onUpdate:value":o[5]||(o[5]=l=>e.formData.Adresse=l)},null,8,["modelValue","value"]),e.Role==="customer"?(n(),m(a,{key:0,modelValue:e.Message,"onUpdate:modelValue":o[6]||(o[6]=l=>e.Message=l),label:"Message de Ticket",type:"text",Class_Content:"col-md-12 mt-4",value:e.formData.Message,"onUpdate:value":o[7]||(o[7]=l=>e.formData.Message=l)},null,8,["modelValue","value"])):i("",!0),e.Role==="customer"?(n(),m(a,{key:1,modelValue:e.Téléphone_Service,"onUpdate:modelValue":o[8]||(o[8]=l=>e.Téléphone_Service=l),label:"Téléphone du service client",type:"text",Class_Content:"col-md-12 mt-4",value:e.formData.Téléphone_Service,"onUpdate:value":o[9]||(o[9]=l=>e.formData.Téléphone_Service=l)},null,8,["modelValue","value"])):i("",!0)])])]),s("div",F,[s("div",c,[s("div",k,[d(a,{modelValue:e.old_MotdePasse,"onUpdate:modelValue":o[10]||(o[10]=l=>e.old_MotdePasse=l),label:"Mot de Passe actuel",type:"password",Class_Content:"col-md-12 mt-4",value:e.formData.old_MotdePasse,"onUpdate:value":o[11]||(o[11]=l=>e.formData.old_MotdePasse=l)},null,8,["modelValue","value"]),d(a,{modelValue:e.MotdePasse,"onUpdate:modelValue":o[12]||(o[12]=l=>e.MotdePasse=l),label:"Mot de Passe",type:"password",Class_Content:"col-md-6 mt-4",value:e.formData.MotdePasse,"onUpdate:value":o[13]||(o[13]=l=>e.formData.MotdePasse=l)},null,8,["modelValue","value"]),d(a,{modelValue:e.confirmMotdePasse,"onUpdate:modelValue":o[14]||(o[14]=l=>e.confirmMotdePasse=l),label:"Confirmer Mot de Passe",type:"password",Class_Content:"col-md-6 mt-4",value:e.formData.confirmMotdePasse,"onUpdate:value":o[15]||(o[15]=l=>e.formData.confirmMotdePasse=l)},null,8,["modelValue","value"])])])])]),s("div",A,[s("div",I,[s("div",B,[s("div",R,[e.Role==="customer"?(n(),m(a,{key:0,modelValue:e.Nom_Societe,"onUpdate:modelValue":o[16]||(o[16]=l=>e.Nom_Societe=l),label:"Nom de Boutique",type:"text",Class_Content:"col-md-12 mt-4",value:e.formData.Nom_Societe,"onUpdate:value":o[17]||(o[17]=l=>e.formData.Nom_Societe=l)},null,8,["modelValue","value"])):i("",!0),e.Role==="customer"?(n(),u("div",L,[j,s("input",{type:"file",class:"form-control",onChange:o[18]||(o[18]=(...l)=>e.handleFileUpload_customer&&e.handleFileUpload_customer(...l)),accept:".jpg,.png",id:"customFileInput"},null,32)])):i("",!0),s("div",q,[z,s("input",{type:"file",class:"form-control",onChange:o[19]||(o[19]=(...l)=>e.handleFileUpload&&e.handleFileUpload(...l)),accept:".jpg,.png",id:"customFileInput"},null,32)]),d(M,{type:"submit",Class_Content:"col-md-12 mt-4",btn_text:"Modifier"})])])])])])],32)])])]))}}),K=p(H,[["__scopeId","data-v-468c10bd"]]);export{K as default};
