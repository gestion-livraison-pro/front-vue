import{bB as g,bH as y,bC as m,az as s,q as d,r as e,F as c,aK as h,a_ as r,y as b,al as p,aD as v,aA as f}from"./index-3afa6c13.js";const S={props:{apiUrl:{type:String,required:!0},tableX:{type:Array,required:!0},updateSelected:{type:Array},filters_update:{type:String}},data(){return{orders:[],tableFields:[],selectedOrders:[],loading:!1,loading_selected:!1}},methods:{moveToSelectedOrders(l){const o=this.orders.indexOf(l);o>-1&&(this.orders.splice(o,1),this.selectedOrders.push(l)),this.$emit("table-data",this.selectedOrders)},moveAllToSelectedOrders(){this.selectedOrders=this.selectedOrders.concat(this.orders),this.orders=[],this.$emit("table-data",this.selectedOrders)},removeAllFromSelectedOrders(){this.orders=this.orders.concat(this.selectedOrders),this.selectedOrders=[],this.$emit("table-data",this.selectedOrders)},removeFromSelectedOrders(l){const o=this.selectedOrders.indexOf(l);o>-1&&(this.selectedOrders.splice(o,1),this.orders.push(l),this.$emit("table-data",this.selectedOrders))},async getFetchData(l=""){if(this.loading=!0,this.updateSelected){this.loading_selected=!0,console.log(this.updateSelected);const _=await y(this.updateSelected);this.selectedOrders=_,this.loading_selected=!1}const o=await m(this.apiUrl+l);this.orders=o,o.length>0&&(this.tableFields=Object.keys(o[0]),this.tableFields=this.tableFields.filter(_=>!["id","Statut","StatutColeur"].includes(_))),this.loading=!1,this.$emit("table-data",this.selectedOrders)}},mounted(){this.getFetchData()},watch:{filters_update(l){this.filters=l,this.getFetchData(l),this.$emit("table-data",this.selectedOrders)}}},a=l=>(v("data-v-a2d8adae"),l=l(),f(),l),x={class:"card"},k={class:"card-body"},O=a(()=>e("h5",null,"Commandes",-1)),F={key:0,class:"table-responsive"},C={class:"table table-bordered"},A={class:"bg-light"},w=a(()=>e("th",null,"Statut",-1)),D=a(()=>e("i",{class:"fas fa-plus"},null,-1)),T=[D],j={class:"header_side"},B=a(()=>e("span",{class:"header_side"},"Statut : ",-1)),I={class:"table_actions"},q={class:"d-flex align-items-center order-actions"},z=["onClick"],L=a(()=>e("i",{class:"fas fa-plus"},null,-1)),N=[L],R={key:1,class:"card-body d-flex justify-content-center py-4"},U=a(()=>e("div",{class:"text-center"},[e("span",{class:"loader"})],-1)),V=[U],E={key:2,class:"card-body"},H=a(()=>e("div",{class:"card p-3 bg-light text-center"},[e("p",null,"Aucun Commandes pour Ajouter")],-1)),K=[H],X={class:"card"},G={class:"card-body"},J=a(()=>e("h5",null,"Les Commandes Sélectionnées",-1)),M={key:0,class:"table-responsive"},P={class:"table table-bordered"},Q={class:"bg-light"},W=a(()=>e("th",null,"Statut",-1)),Y=a(()=>e("i",{class:"fas fa-times"},null,-1)),Z=[Y],$={class:"header_side"},ee=a(()=>e("span",{class:"header_side"},"Statut : ",-1)),te={class:"table_actions"},se={class:"d-flex align-items-center order-actions"},de=["onClick"],le=a(()=>e("i",{class:"fas fa-times"},null,-1)),oe=[le],ae={key:1,class:"card-body d-flex justify-content-center py-4"},ne=a(()=>e("div",{class:"text-center"},[e("span",{class:"loader"})],-1)),ie=[ne],re={key:2,class:"card-body"},ce=a(()=>e("div",{class:"card p-3 bg-light text-center"},[e("p",null,"Aucun Commandes Selectionne")],-1)),he=[ce];function _e(l,o,_,ue,n,u){return s(),d(c,null,[e("div",x,[e("div",k,[O,n.orders.length>0?(s(),d("div",F,[e("table",C,[e("thead",A,[e("tr",null,[(s(!0),d(c,null,h(n.tableFields,t=>(s(),d("th",{key:t},r(t),1))),128)),w,e("th",null,[e("button",{type:"button",class:"btn bg-primary text-light btn-sm waves-effect mx-1",onClick:o[0]||(o[0]=t=>u.moveAllToSelectedOrders())},T)])])]),e("tbody",null,[(s(!0),d(c,null,h(n.orders,t=>(s(),d("tr",{key:t.id},[(s(!0),d(c,null,h(n.tableFields,i=>(s(),d("td",{key:i},[e("span",j,r(i)+" : ",1),b(" "+r(t[i]),1)]))),128)),e("td",null,[e("span",{class:"badge",style:p({backgroundColor:t.StatutColeur})},[B,b(" "+r(t.Statut),1)],4)]),e("td",I,[e("div",q,[e("button",{type:"button",class:"btn bg-primary text-light btn-sm waves-effect mx-1",onClick:i=>u.moveToSelectedOrders(t)},N,8,z)])])]))),128))])])])):n.loading?(s(),d("div",R,V)):(s(),d("div",E,K))])]),e("div",X,[e("div",G,[J,n.selectedOrders.length>0?(s(),d("div",M,[e("table",P,[e("thead",Q,[e("tr",null,[(s(!0),d(c,null,h(n.tableFields,t=>(s(),d("th",{key:t},r(t),1))),128)),W,e("th",null,[e("button",{type:"button",class:"btn bg-danger text-light btn-sm waves-effect mx-1",onClick:o[1]||(o[1]=t=>u.removeAllFromSelectedOrders())},Z)])])]),e("tbody",null,[(s(!0),d(c,null,h(n.selectedOrders,t=>(s(),d("tr",{key:t.id},[(s(!0),d(c,null,h(n.tableFields,i=>(s(),d("td",{key:i},[e("span",$,r(i)+" : ",1),b(" "+r(t[i]),1)]))),128)),e("td",null,[e("span",{class:"badge",style:p({backgroundColor:t.StatutColeur})},[ee,b(" "+r(t.Statut),1)],4)]),e("td",te,[e("div",se,[e("button",{type:"button",class:"btn bg-danger text-light btn-sm waves-effect mx-1",onClick:i=>u.removeFromSelectedOrders(t)},oe,8,de)])])]))),128))])])])):n.loading_selected?(s(),d("div",ae,ie)):(s(),d("div",re,he))])])],64)}const pe=g(S,[["render",_e],["__scopeId","data-v-a2d8adae"]]);export{pe as t};
